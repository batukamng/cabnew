<div id="page_content">
    <div id="page_content_inner">
        <div class="uk-grid" data-uk-grid-margin>
            <div class="uk-width-medium-1-1 iconBtn">
                <kendo-grid id="parent" class="uk-text-small" k-scope-field="grid" k-data-source="dataSource"
                            options="mainGrid"></kendo-grid>
            </div>
        </div>
    </div>
</div>

<div class="uk-modal" id="modal_funding">
    <div class="uk-modal-dialog uk-modal-dialog-large w-[80%] md:w-[60%] 2xl:w-[40%] custom-modal"
         style="margin-bottom: 0; padding: 0">
        <div class="formHeader" style="display: block; margin: 0 -24px; padding: 24px">
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 uk-text-left">
                    <h3 class="customTitle" style="margin-bottom: 0; padding-top: 5px; padding-bottom: 5px">
                        <span>{{modalType == 'add' ? 'Үе шат бүртгэх' : 'Үе шат засах'}}</span>
                        <button type="button" class="uk-modal-close uk-float-right uk-close"></button>
                    </h3>
                </div>
            </div>
        </div>
        <form class="k-form k-form-vertical" style="margin: 0" id="validator" custom-scrollbar
              kendo-validator="validatorProject" ng-submit="submitProject($event)">
            <div style="padding: 0">
                <div class="uk-overflow-container">
                    <div class="uk-grid uk-grid-small uk-grid-margin">
                        <div class="uk-width-1-1">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted" for="name">Үе
                                шатны нэрийг оруулна уу</label>
                            <input type="text" class="k-input k-textbox" required ng-model="app.name" id="name"
                                   style="width: 100%"/>
                        </div>
                        <div class="uk-width-1-1" style="margin-top: 10px">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted" for="orderId">Үе
                                шатны эрэмбийг оруулна уу</label>
                            <input type="number" class="k-input k-textbox" required ng-model="app.orderId" id="orderId"
                                   style="width: 100%"/>
                        </div>
                    </div>
                    <div class="uk-grid uk-grid-small uk-grid-margin">
                        <div class="uk-width-1-3">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted" for="code">Төлвийн
                                код оруулна уу</label>
                            <input type="text" class="k-input k-textbox" required ng-model="app.code" id="code"
                                   style="width: 100%"/>
                        </div>
                        <div class="uk-width-1-3">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted" for="statName">Төлвийн
                                нэрийг оруулна уу</label>
                            <input type="text" class="k-input k-textbox" required ng-model="app.statName" id="statName"
                                   style="width: 100%"/>
                        </div>
                        <div class="uk-width-1-3">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted" for="btnColor">Төлвийн
                                өнгө оруулна уу</label>
                            <div class="relative">
                                <input type="text" class="k-input k-textbox pl-10" required ng-model="app.btnColor"
                                       id="btnColor" style="width: 100%" placeholder="Өнгөний код бичнэ үү"/>
                                <div id="colorPicker"
                                     class="rounded-full w-6 h-6 absolute left-2 top-1 border-solid border-[1px] border-zinc-200"
                                     ng-style="{background: app.btnColor}"></div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-grid uk-grid-small uk-grid-margin">
                        <div class="uk-width-1-1" style="margin-top: 10px">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted" for="statDesc">Тайлбар
                                буюу санамжийг оруулна уу</label>
                            <textarea kendo-text-area required ng-model="app.statDesc" id="statDesc" style="width: 100%"
                                      rows="4"></textarea>
                        </div>
                        <div class="uk-width-1-1" style="margin-top: 10px">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Харгалзах
                                хэрэглэгчийн төрлийг сонгоно уу</label>
                            <div class="px-3">
                                <div class="m-2 ml-0 inline-block" ng-repeat="pri in actionDataSource">
                                    <input type="checkbox" name="subCapacity" id="{{pri.id}}-{{$index}}"
                                           ng-value="pri.id" ng-model="privileges[pri.id]" class="k-checkbox hidden"
                                           style="display: none !important"/>
                                    <label class="w-6 bg-white text-[#6C757D] border-[#6C757D] border-[1px] border-solid rounded-2xl py-1 px-3 bg-white text-sm cursor-pointer"
                                           for="{{pri.id}}-{{$index}}">
                                        <i class="material-icons mr-2 text-[#6C757D]">check_outlined</i>{{pri.comCdNm}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="uk-width-1-1" style="margin-top: 10px">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Төрөл</label>
                            <div class="custom-select">
                                <div class="item w-1/2" ng-class="{'active' : mainSystemDisable}"
                                     ng-click="changeSystemType(2)">Төлөвлөлт
                                </div>
                                <div class="item w-1/2" ng-class="{'active' : subSystemDisable}"
                                     ng-click="changeSystemType(1)">Санхүүжилт
                                </div>
                            </div>
                        </div>
                        <div class="uk-width-1-1" style="margin-top: 10px" ng-if="mainSystemDisable">
                            <div class="uk-width-1-1" style="margin-top: 10px">
                                <label class="from-indigo-900 uppercase text-xs font-medium">эдийн засгийн
                                    ангилал</label>
                                <div class="px-3">
                                    <div class="m-2 ml-0 inline-block" ng-repeat="eco in ecoDataSource">
                                        <input type="checkbox" name="ecoList" id="{{eco.id}}-{{$index}}"
                                               ng-value="eco.id" ng-model="ecos[eco.id]" class="k-checkbox hidden"
                                               style="display: none !important"/>
                                        <label class="w-6 bg-white text-[#6C757D] border-[#6C757D] border-[1px] border-solid rounded-2xl py-1 px-3 bg-white text-sm cursor-pointer"
                                               for="{{eco.id}}-{{$index}}">
                                            <i class="material-icons mr-2 text-[#6C757D]">check_outlined</i>{{eco.comCdNm}}
                                        </label>
                                    </div>
                                </div>
                                <!--<div class="custom-select w-full">
                                  <div class="item" style="width: 25%" ng-repeat="item in ecoDataSource" ng-class="ecoType.id == item.id && 'active'" ng-click="onChangeEco(item)">{{item.comCdNm}}</div>
                                </div>-->
                            </div>

                            <div class="uk-grid uk-grid-small uk-grid-margin">
                                <div class="uk-width-small-1-2">
                                    <label for="pipAppSrtYr"
                                           class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> Эхлэх
                                        сар, өдөр </label>
                                    <div class="k-form-field-wrap" style="padding: 0">
                                        <input
                                                validationMessage="шаардлагатай"
                                                k-ng-model="fromDateObject"
                                                k-on-change="fromDateChanged()"
                                                kendo-date-picker
                                                onkeydown="return false;"
                                                id="pipAppSrtYr"
                                                required
                                                ng-model="app.srtDt"
                                                k-options="yearSelectorOptions"
                                                style="width: 100%"
                                        />
                                    </div>
                                </div>
                                <div class="uk-width-small-1-2">
                                    <label for="pipAppEndYr"
                                           class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> Дуусах
                                        сар, өдөр </label>
                                    <div class="k-form-field-wrap" style="padding: 0">
                                        <input
                                                validationMessage="шаардлагатай"
                                                id="pipAppEndYr"
                                                kendo-date-picker
                                                onkeydown="return false;"
                                                required
                                                k-min="minDate"
                                                k-on-change="toDateChanged()"
                                                ng-model="app.endDt"
                                                k-options="yearSelectorOptions"
                                                style="width: 100%"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="uk-width-1-1" style="margin-top: 10px">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Төлөв</label>
                            <div class="custom-select">
                                <div class="item w-1/2" ng-class="{'active' : app.useYn}" ng-click="app.useYn=1">
                                    Идэвхтэй
                                </div>
                                <div class="item w-1/2" ng-class="{'active' : !app.useYn}" ng-click="app.useYn=0">
                                    Идэвхгүй
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="formFooter" style="margin: 0; padding: 12px">
                <div class="w-full uk-text-right">
                    <button type="button" class="md-btn md-btn-mini uk-modal-close !text-sm cancel-button">БОЛИХ
                    </button>
                    <button type="submit" class="md-btn md-btn-mini !text-sm gradient-button px-4">ХАДГАЛАХ</button>
                </div>
            </div>
        </form>
    </div>

    <div class="uk-modal" id="modal_loader" class="background: white;height:100vh; width:100vh">
        <div class="uk-modal-dialog h-full w-full">
            <div class="w-full h-full bg-white flex items-center justify-center">
                <div id="main-loader-view" style="width: 100px; height: 100px"></div>
            </div>
        </div>
    </div>

    <script>
        var animation = bodymovin.loadAnimation({
            // animationData: { /* ... */ },
            container: document.getElementById("main-loader-view"), // required
            path: "assets/img/loader.json", // required
            renderer: "svg", // required
            loop: true, // optional
            autoplay: true, // optional
            name: "PIMIS", // optional
        });
    </script>

    <style>
        .customSelectedButton {
            padding: 0.25rem !important;
            background-color: #f6f7f8 !important;
            border-color: #eef1f4 !important;
            border-radius: 5px;
            width: 100%;
        }

        .customSelectedButton .customButton:active {
            background-color: white !important;
            border-radius: 5px;
            box-shadow: 0px 4px 8px 4px rgba(0, 0, 0, 0.05);
        }

        .customSelectedButton .customButton span {
            color: grey;
            font-weight: 700;
        }

        .customSelectedButton .customButton:hover {
            border: none !important;
        }

        .customSelectedButton .customButton {
            border-radius: 0 !important;
            background: transparent !important;
            border: none !important;
            font-weight: 400;
            width: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            justify-items: center;
        }

        .customSelectedButton .customButton:focus {
            box-shadow: unset;
        }

        .customSelectedButton .customButton span {
            font-weight: 300;
        }

        .customSelectedButton .customButton .customButton.active {
            background: #fff !important;
            font-weight: 600;
            box-shadow: 0px 4px 8px 4px rgb(0 0 0 / 5%);
        }

        .k-checkbox:checked + label {
            background-color: #312e81 !important;
            border-color: #312e81 !important;
            color: #fff !important;
        }

        .k-checkbox:checked + label i {
            color: #fff !important;
        }
    </style>
</div>
