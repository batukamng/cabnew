<div id="page_content" class="bg-white">
    <div class="bg-white w-full">
        <div id="page_content_inner" style="padding: 0">
            <div class="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5">
                <div style="background: #eef2fe" class="md:!border-solid border-blue-100 border-0 !border-r-[2px]">
                    <div  style="height: calc(100vh - 108px)">
                        <div>
                            <div class="px-4 py-2 font-semibold text-xl border-blue-100 border-solid border-0 border-b">
                                <div class="k-form-field-wrap text-center">
                                    <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Төсөл,
                                        арга хэмжээний нэр</label>
                                    <div class="text-sm font-semibold" ng-bind="app.projectName"></div>
                                </div>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <div class="k-form-field-wrap bg-white w-full border-solid p-3 rounded-md border-[1px] border-[#F0F2F5] text-center">
                                    <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">төсвийн
                                        ерөнхийлөн захирагч</label>
                                    <div class="text-sm font-semibold">{{app.customerGroupName || '-'}}</div>
                                </div>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <div class="k-form-field-wrap bg-white w-full border-solid p-3 rounded-md border-[1px] border-[#F0F2F5] text-center">
                                    <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                        Салбар
                                    </label>
                                    <div class="text-sm font-semibold">{{app.industryName || '-'}}</div>
                                </div>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Төслийн код</span>
                                <div class="font-medium"> {{app.projectCode}}</div>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span class="mt-2">Төлөв</span>
                             <!--   <span class="font-medium">{{app.wfmStatusName}}</span>-->

                                <div class="rounded-full w-fit px-5 text-xs py-2 uppercase text-white font-bold"
                                     style="background-color: #f0425b"> {{app.dateStatusName}}
                                </div>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Гэрээ хийгдсэн эсэх</span>
                                <span class="font-medium">{{app.isUseContract==1?'Тийм':'Үгүй'}}</span>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Санхүүжилт гарсан эсэх</span>
                                <span class="font-medium">{{app.isInvestment==1?'Тийм':'Үгүй'}}</span>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Гэрээний дүн</span>
                                <p ng-repeat="(k, v) in currency">
                                    <span class="uk-text-bold">{{k}}:</span> {{v | number: 0}}
                                </p>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Төрөл</span>
                                <span class="font-medium">{{ app.projectTypeName}}</span>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Хугацааны төлөв</span>
                                <span class="font-medium">{{ app.dateStatusName}}</span>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Эхлэх огноо</span>
                                <span class="font-medium">{{app.startDate || '-'}}</span>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Дуусах огноо</span>
                                <span class="font-medium">{{ app.endDate || '-' }} </span>
                            </div>
                            <div class="border-blue-100 border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Гэрээ сунгасан огноо</span>
                                <span class="font-medium">{{ app.closeDate || '-' }} </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="md:col-span-3 lg:col-span-4 bg-white">
                    <div class="grid grid-cols-1 gap-4 p-8">
                        <div class="uk-flex text-center custom-tab gap-4 border-0 !border-b-[3px] border-solid !border-[#f0f2f5]">
                            <div class="item" style="width: 150px" ng-class="{'active' : tabType==1}" ng-click="tabType=1">Ерөнхий мэдээлэл</div>
                            <div class="item" style="width: 150px" ng-class="{'active' : tabType==2}" ng-click="tabType=2">Бүрэлдэхүүн</div>
                            <div class="item" style="width: 150px" ng-class="{'active' : tabType==3}" ng-click="tabType=3">Хийгдэх ажил</div>
                            <div class="item" style="width: 150px" ng-class="{'active' : tabType==4}" ng-click="tabType=4">Гүйцэтгэгч, гэрээ</div>
                            <div class="item" style="width: 150px" ng-class="{'active' : tabType==5}" ng-click="tabType=5">Санхүүжилт</div>
                        </div>
                        <div ng-if="tabType==1">
                            <div class="grid grid-cols-1 mt-4">
                                <div class="rounded-md border border-solid border-[#e4e4e7] bg-white">
                                    <!-- <div class="px-4 py-2 font-semibold text-xl border-[#e4e4e7] border-solid border-0 border-b">
                                         Ерөнхий мэдээлэл
                                     </div>-->
                                    <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                        <div>
                                            <span class="font-medium">Төслийн зорилго</span>
                                            <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.purpose"></span>
                                        </div>
                                    </div>
                                    <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                        <div>
                                            <span class="font-medium">Үр дүн</span>
                                            <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.outcome"></span>
                                        </div>
                                    </div>
                                    <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                        <div>
                                            <span class="font-medium">Төсөл хэрэгжүүлэгч дээд шатны байгууллага</span>
                                            <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.customerName"></span>
                                        </div>
                                    </div>
                                    <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                        <div>
                                            <span class="font-medium">Хэрэгжих газар</span>
                                            <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.implementationPlace"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="tabType==2">
                            <kendo-grid options="mainComponentGrid" id="parent" class="uk-text-small"  k-data-source="dataComponentSource">
                                <div k-detail-template>
                                    <div id="detGrid" class="uk-text-small" kendo-grid k-options="detailGridOptions(dataItem)"></div>
                                </div>
                            </kendo-grid>
                        </div>
                        <div ng-if="tabType==3">

                        </div>
                        <div ng-if="tabType==4">

                        </div>
                        <div ng-if="tabType==5">
                            <div class="bg-white">
                                <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                                    Хяналтын тэмдэглэлүүд
                                </div>
                                <div custom-scrollbar style="overflow: hidden;" class="w-full">
                                    <table id="detailTable" class="sub-table1 uk-text-small funding-table" style="border-spacing: 0">
                                        <thead>
                                        <tr>
                                            <th style="padding: 8px" class="uk-text-center">
                                                <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">№</label>
                                            </th>
                                            <th style="padding: 0 8px"
                                                class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-left">
                                                Ажлын нэр
                                            </th>
                                            <th style="padding: 0 8px"
                                                class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                                Шалтгаан
                                            </th>
                                            <th style="padding: 0 8px"
                                                class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                                Төлөв
                                            </th>
                                            <th style="padding: 0 8px"
                                                class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                                Явц (%)
                                            </th>
                                            <!--                                            <th></th>-->
                                        </tr>
                                        </thead>
                                        <colgroup>
                                            <col style="width: 50px"/>
                                            <col />
                                            <col style="width: 200px"/>
                                            <col style="width: 200px"/>
                                            <col style="width: 100px"/>
                                            <!--                                            <col  style="width: 80px"/>-->
                                        </colgroup>
                                        <tbody>
                                        <tr ng-repeat="item in details">
                                            <td class="uk-text-center">
                                                {{$index + 1}}
                                            </td>
                                            <td> {{item.taskName}}</td>
                                            <td class="uk-text-center">
                                                {{item.statusName}}
                                            </td>
                                            <td class="uk-text-center">
                                                {{item.reasonName}}
                                            </td>
                                            <td class="uk-text-center">
                                                {{item.perCnt}}
                                            </td>

                                            <!--                                            <td style="text-align: center">-->
                                            <!--                                                <div class="flex gap-3" ng-hide="item.editable">-->
                                            <!--                                                    <button class="grid-btn k-grid-edit"-->
                                            <!--                                                            ng-click="updateDetail(item)">-->
                                            <!--                                                        <i class="nimis-icon edit"></i>-->
                                            <!--                                                    </button>-->
                                            <!--                                                    <button class="grid-btn k-grid-delete"-->
                                            <!--                                                            ng-click="deleteDetail(item,$index)">-->
                                            <!--                                                        <i class="nimis-icon delete"></i>-->
                                            <!--                                                    </button>-->
                                            <!--                                                </div>-->
                                            <!--                                            </td>-->
                                        </tr>
                                        </tbody>
                                        <tfoot class="bg-zinc-100">
                                        <tr>
                                            <td colspan="4" class="font-medium uk-text-right">Нийт тэмдэглэл </td>
                                            <td class="uk-text-center">
                                                <span class="font-medium uk-text-center">{{details.length | number: 0}}</span>
                                            </td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--<div id="page_content">
    <div id="stat03">
        <div class="layout-paddingl w-full h-full py-5 flex flex-col gap-4" style="background-color: #eef2fe">
            <div class="dashboard-container" style="padding: 0 24px;">
                <p class="mx-auto text-2xl font-medium uk-text-center" style="margin: 0">{{app.projectName}}</p>
            </div>
            <div class="rounded-full w-fit px-5 text-xs py-2 mx-auto uppercase text-white font-bold"
                 style="background-color: #f0425b"> {{app.dateStatusName}}
            </div>
        </div>
        <div id="page_content_inner" class="dashboard-container">
            <div id="main_content" ng-class="editable?'mb-16':''">
                <div class="grid grid-cols-1 gap-4  md:grid-cols-2 lg:grid-cols-2">
                    <div>
                        <div class="rounded-md border border-solid border-[#e4e4e7] bg-white">
                            <div class="px-4 py-2 font-semibold text-xl border-[#e4e4e7] border-solid border-0 border-b">
                                Үндсэн мэдээлэл
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Төслийн дугаар</span>
                                <span class="font-medium">{{app.projectCode}}</span>
                            </div>

                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Англи нэр</span>
                                <span class="font-medium">{{app.description?app.description:'-'}}</span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Төлөв</span>
                                <span class="font-medium">{{app.wfmStatusName}}</span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Төсвийн ерөнхийлөн захирагч</span>
                                <span class="font-medium">{{app.customerGroupName}}</span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Салбар</span>
                                <span class="font-medium">{{app.industryName}}</span>
                            </div>
                          &lt;!&ndash;  <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Хэрэгжих газар</span>
                                <span class="font-medium">{{app.implementationPlace}}</span>
                            </div>&ndash;&gt;

                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Төсөв</span>
                                <div>
                                    <p ng-repeat="(k, v) in currency">
                                        <span class="uk-text-bold">{{k}}:</span> {{v | number: 0}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="rounded-md border border-solid border-[#e4e4e7] bg-white">
                            <div class="px-4 py-2 font-semibold text-xl border-[#e4e4e7] border-solid border-0 border-b">
                                Нэмэлт мэдээлэл
                                <a ng-click="updateOther(app)"
                                   style="float:right;max-height: 24px !important; height: 24px !important; min-height: 24px !important; line-height: 24px !important;"
                                   ng-show="editable"
                                   class="md-btn outlined-button mt-0 md-btn !text-xs !rounded-full">Засах</a>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Төрөл</span>
                                <span class="font-medium">{{app.projectTypeName}}</span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Гэрээ хийгдсэн эсэх</span>
                                <span class="font-medium">{{app.isUseContract==1?'Тийм':'Үгүй'}}</span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Санхүүжилт гарсан эсэх</span>
                                <span class="font-medium">{{app.isInvestment==1?'Тийм':'Үгүй'}}</span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Хугацааны төлөв</span>
                                <span class="font-medium">{{app.dateStatusName}}</span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Эхлэх огноо</span>
                                <span class="font-medium" ng-bind="formatDate(app.startDate) | date:'yyyy-MM-dd'"></span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Дуусах огноо</span>
                                <span class="font-medium" ng-bind="formatDate(app.endDate) | date:'yyyy-MM-dd'"></span>
                            </div>
                            <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                                <span>Гэрээ сунгасан огноо</span>
                                <span class="font-medium" ng-bind="app.closeDate!=null?(formatDate(app.closeDate) | date:'yyyy-MM-dd'):'-'"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 mt-4">
                    <div class="rounded-md border border-solid border-[#e4e4e7] bg-white">
                       &lt;!&ndash; <div class="px-4 py-2 font-semibold text-xl border-[#e4e4e7] border-solid border-0 border-b">
                            Ерөнхий мэдээлэл
                        </div>&ndash;&gt;
                        <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                            <div>
                                <span class="font-medium">Төслийн зорилго</span>
                                <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.purpose"></span>
                            </div>
                        </div>
                        <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                            <div>
                                <span class="font-medium">Үр дүн</span>
                                <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.outcome"></span>
                            </div>
                        </div>
                        <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                            <div>
                                <span class="font-medium">Төсөл хэрэгжүүлэгч дээд шатны байгууллага</span>
                                <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.customerName"></span>
                            </div>
                        </div>
                        <div class="border-[#F0F2F5] border-solid border-0 border-t px-4 py-4 flex justify-between">
                            <div>
                                <span class="font-medium">Хэрэгжих газар</span>
                                <span style="display: block; margin-top:4px;" class="text-justify font-italic" ng-bind="app.implementationPlace"></span>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="grid grid-cols-1 gap-4 mt-4">
                    <div>
                        <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                            Бүрэлдэхүүн мэдээлэл
                        </div>
                        <kendo-grid options="mainComponentGrid" id="parent" class="uk-text-small"  k-data-source="dataComponentSource">
                            <div k-detail-template>
                                <div id="detGrid" class="uk-text-small" kendo-grid k-options="detailGridOptions(dataItem)"></div>
                            </div>
                        </kendo-grid>
                    </div>
                   &lt;!&ndash; <div>
                        <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                            Гүйцэтгэгч
                        </div>
                        <kendo-grid options="mainExecutorGrid" class="uk-text-small"  k-data-source="dataExecutorSource"></kendo-grid>
                    </div>
                    <div>
                        <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                            Шалгуур үзүүлэлт
                        </div>
                        <kendo-grid options="mainCriteriaGrid" class="uk-text-small"  k-data-source="dataCriteriaSource"></kendo-grid>
                    </div>&ndash;&gt;
                </div>


             &lt;!&ndash;   <div class="grid grid-cols-1 mt-4">
                    <div class="bg-white">
                        <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                            Бүрэлдэхүүн мэдээлэл
                        </div>
                        <div>
                            <div custom-scrollbar ng-class="(app.components.length>10)?'height500':''">
                                <table id="componentTable" class="sub-table1 funding-table" style="border-spacing: 0">
                                    <thead>
                                    <tr>
                                        <th style="padding: 8px" class="uk-text-center"><label
                                                class="uk-form-label uppercase !text-xs font-normal uk-text-muted">№</label>
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-left">
                                            Бүрэлдэхүүний нэр
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Хөгжлийн түнш
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Санхүүжилтийн төрөл
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-left">
                                            Гэрээний нэр
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Салбар
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Валют
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Бүрэлдэхүүний төсөв
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Гэрээ байгуулсан дүн
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Үлдэгдэл дүн
                                        </th>
                                    </tr>
                                    </thead>
                                    <colgroup>
                                        <col style="width: 50px"/>
                                        <col style="width: 150px"/>
                                        <col style="width: 110px"/>
                                        <col style="width: 110px"/>
                                        <col style="width: 250px"/>
                                        <col style="width: 100px"/>
                                        <col style="width: 100px"/>
                                        <col style="width: 120px"/>
                                        <col style="width: 120px"/>
                                        <col style="width: 120px"/>
                                    </colgroup>
                                    <tbody>
                                    <tr ng-repeat="item in app.components">
                                        <td class="uk-text-center">
                                            {{$index + 1}}
                                        </td>
                                        <td > <span ng-bind="item.componentName"></span></td>
                                        <td class="uk-text-center"> {{item.partnerName}}</td>
                                        <td class="uk-text-center"> {{item.economicSourceName}}</td>

                                        <td class="uk-text-justify">
                                            <a ui-sref="restricted.nms.contractView({id: item.id, ezId: item.ezId, type: 1})"
                                               ng-bind="item.contractName"></a>
                                        </td>
                                        <td class="uk-text-center"> {{item.industryName}}</td>
                                        <td class="uppercase uk-text-center">{{item.currencyCode}}</td>
                                        <td class="uk-text-right"> {{item.budgetAmount  | number: 0}}</td>
                                        <td class="uppercase uk-text-right">{{item.taskAmount | number: 0}}</td>
                                        <td class="uppercase uk-text-right">{{item.componentAmount | number: 0}}</td>
                                    </tr>
                                    <tr ng-if="app.components.length==0">
                                        <td colspan="10" class="uk-text-center">
                                            <span class='uk-text-danger'>Гэрээний мэдээллийг баталгаажуулаагүй байна!!!</span>
                                        </td>
                                    </tr>

                                    </tbody>
                                    <tfoot class="bg-zinc-100">
                                    <tr>
                                        <td colspan="6" class="uk-text-bold uk-text-right"></td>
                                        <td colspan="2" class="uk-text-right">
                                            <p ng-repeat="(k, v) in currency">
                                                <span class="uk-text-bold">{{k}}:</span> {{v | number: 0}}
                                            </p>
                                        </td>
                                        <td colspan="1" class="uk-text-bold uk-text-right">Нийт дүн</td>
                                        <td class="uk-text-center">
                                            <span class="uk-text-bold uk-text-center">{{app.components | sumOfValue:'componentAmount' | number: 0}}</span>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 mt-4">
                    <div class="bg-white">
                        <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                            Хийгдэх ажил
                        </div>
                        <div>
                            <div>
                                <table id="taskTable" class="sub-table1 funding-table" style="border-spacing: 0">
                                    <thead>
                                    <tr>
                                        <th style="padding: 8px" class="uk-text-center"><label
                                                class="uk-form-label uppercase !text-xs font-normal uk-text-muted">№</label>
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-left">
                                            Бүрэлдэхүүн санхүүжүүлэгч
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Хийгдэх ажил
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Дүн
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Валют
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Төрөл
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Тайлбар
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Аймаг/Хот
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Сум/Дүүрэг
                                        </th>
                                    </tr>
                                    </thead>
                                    <colgroup>
                                        <col style="width: 50px"/>
                                        <col style="width: 150px"/>
                                        <col style="width: 300px"/>
                                        <col style="width: 110px"/>
                                        <col style="width: 100px"/>
                                        <col style="width: 100px"/>
                                        <col style="width: 100px"/>
                                        <col style="width: 120px"/>
                                        <col style="width: 120px"/>
                                    </colgroup>
                                    <tbody>
                                    <tr ng-repeat="item in app.tasks">
                                        <td class="uk-text-center">
                                            {{$index + 1}}
                                        </td>
                                        <td class="uk-text-left"> {{item.componentName}}</td>
                                        <td class="uk-text-left"> {{item.taskName}}</td>
                                        <td class="uk-text-right"> {{item.taskAmount | number:0}}</td>
                                        <td class="uk-text-center"> {{item.currencyCode}}</td>
                                        <td class="uk-text-left"> {{item.taskTypeName}}</td>
                                        <td class="uk-text-left">{{item.description}}</td>
                                        <td class="uk-text-center"> {{item.cityName}}</td>
                                        <td class="uk-text-center">{{item.districtName}}</td>
                                    </tr>
                                    <tr ng-if="app.tasks.length==0">
                                        <td colspan="9" class="uk-text-center">
                                            <span class='uk-text-danger'>Хийгдэх ажил бүртгээгүй байна!!!</span>
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot class="bg-zinc-100">
                                    <tr>
                                        <td colspan="8" class="uk-text-bold uk-text-right">Нийт ажил</td>
                                        <td class="uk-text-center">
                                            <span class="uk-text-bold uk-text-center">{{app.tasks.length}}</span>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 mt-4">
                    <div class="bg-white">
                        <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                            Гэрээний мэдээлэл
                        </div>
                        <div>
                            <div custom-scrollbar ng-class="(app.contracts.length>10)?'height500':''">
                                <table id="contractTable" class="sub-table1 funding-table" style="border-spacing: 0">
                                    <thead>
                                    <tr>
                                        <th style="padding: 8px" class="uk-text-center"><label
                                                class="uk-form-label uppercase !text-xs font-normal uk-text-muted">№</label>
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-left">
                                            Гэрээний дугаар
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Эхлэх
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Дуусах
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-left">
                                            Гэрээний нэр
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Хөгжлийн түнш
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Гэрээний дүн
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Үндсэн валют
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Ашиглалт
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">
                                            Үлдэгдэл дүн
                                        </th>
                                    </tr>
                                    </thead>
                                    <colgroup>
                                        <col style="width: 50px"/>
                                        <col style="width: 120px"/>
                                        <col style="width: 110px"/>
                                        <col style="width: 110px"/>
                                        <col/>
                                        <col style="width: 150px"/>
                                        <col style="width: 150px"/>
                                        <col style="width: 120px"/>
                                        <col style="width: 120px"/>
                                        <col style="width: 120px"/>
                                    </colgroup>
                                    <tbody>
                                    <tr ng-repeat="item in app.contracts">
                                        <td class="uk-text-center">
                                            {{$index + 1}}
                                        </td>
                                        <td> {{item.contractCode}}</td>
                                        <td class="uppercase uk-text-center">
                                            {{formatDate(item.startDate) | date:'yyyy-MM-dd'}}
                                        </td>
                                        <td class="uppercase uk-text-center">
                                            <span ng-if="item.endDate!=null"> {{formatDate(item.endDate) | date:'yyyy-MM-dd'}}</span>
                                            <span ng-if="item.endDate==null">-</span>
                                        </td>
                                        <td class="uk-text-justify">
                                            <a ui-sref="restricted.nms.contractView({id: item.id, ezId: item.ezId, type: 1})"
                                               ng-bind="item.contractName"></a>
                                        </td>
                                        <td class="uk-text-left"> {{item.customerName}}</td>
                                        <td class="uppercase uk-text-center">{{item.contractAmount | number: 0}}</td>
                                        <td class="uk-text-center"> {{item.currencyCode || '-'}}</td>
                                        <td class="uppercase uk-text-right">{{item.totalSpentAmount | number: 0}}</td>
                                        <td class="uppercase uk-text-center">{{item.totalAvailableAmount | number: 0}}</td>
                                    </tr>
                                    <tr ng-if="app.contracts.length==0">
                                        <td colspan="10" class="uk-text-center">
                                            <span class='uk-text-danger'>Гэрээний мэдээллийг баталгаажуулаагүй байна!!!</span>
                                        </td>
                                    </tr>
                                    <tr ng-show="editable">
                                        <td colspan="10" class="uk-text-center">
                                            <button type="button" style="width: 160px !important"
                                                    class="md-btn outlined-button mt-0 md-btn !text-xs rounded-full"
                                                    ng-click="createContract()">
                                                <i style="margin-top: 0" class="material-icons">add</i> Гэрээ бүртгэх
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot class="bg-zinc-100">
                                    <tr>
                                        <td colspan="9" class="uk-text-bold uk-text-right">Нийт дүн</td>
                                        <td class="uk-text-center">
                                            <span class="uk-text-bold uk-text-center">{{app.contracts | sumOfAmount:'totalAvailableAmount' | number: 0}}</span>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 mt-4">
                    <div class="bg-white">
                        <div class="px-4 py-2 font-semibold text-xl rounded-t-lg border border-solid border-[#e4e4e7]">
                            Баримт бичиг
                        </div>
                        <div>
                            <div>
                                <table class="sub-table1 funding-table" style="border-spacing: 0">
                                    <thead>
                                    <tr>
                                        <th style="padding: 8px" class="uk-text-center"><label
                                                class="uk-form-label uppercase !text-xs font-normal uk-text-muted">№</label>
                                        </th>

                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-left">
                                            файлын нэр
                                        </th>
                                        <th style="padding: 0 8px"
                                            class="uk-form-label uppercase !text-xs font-normal uk-text-muted uk-text-center">

                                        </th>
                                    </tr>
                                    </thead>
                                    <colgroup>
                                        <col style="width: 50px"/>
                                        <col/>
                                        <col style="width: 110px"/>
                                    </colgroup>
                                    <tbody>
                                    <tr ng-repeat="item in app.funds">
                                        <td class="uk-text-center">
                                            {{$index + 1}}
                                        </td>
                                        <td class="uk-text-left"> {{item.paymentTypeName}}</td>
                                        <td class="uk-text-left"> {{item.bookNumber}}</td>
                                    </tr>

                                    </tbody>
                                    <tfoot class="bg-zinc-100">
                                    <tr>
                                        <td colspan="2" class="uk-text-bold uk-text-right">Нийт</td>
                                        <td class="uk-text-right">
                                            <span class="uk-text-bold uk-text-right">{{app.funds | sumOfValue:'totalAmount' | number: 0}}</span>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>&ndash;&gt;

            </div>
        </div>
    </div>
</div>-->

<footer id="footer"  class="mt-6 box-border bg-white border-solid border-0 !border-t-[2px] border-blue-100" style="padding: 0 12px !important;z-index: 1000">
    <div class="grid grid-cols-3 gap-4">
        <div>

        </div>
        <div class="col-span-2 text-right">
            <a href="/api/nms/approved/report/con/{{app.id}}" target="_blank"
               class="md-btn md-btn-success gradient-button rounded-md text-sm box-border !leading-9">
                Товхимол татах
            </a>
            <button type="button" class="md-btn outlined-button" back-button>буцах</button>
        </div>
    </div>
</footer>



<div class="uk-modal" id="modal_location">
    <div class="uk-modal-dialog custom-modal" style="margin-bottom: 0; padding: 0">
        <div class="formHeader" style="display: block; margin: 0 -24px; padding: 24px">
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 uk-text-left">
                    <h3 class="customTitle" style="margin-bottom: 0; padding-top: 5px; padding-bottom: 5px">
                        <span>Байршил бүртгэх</span>
                        <button type="button" class="uk-modal-close uk-float-right uk-close"></button>
                    </h3>
                </div>
            </div>
        </div>
        <form class="k-form k-form-vertical" style="margin: 0" id="locationForm"
              ng-submit="locationSubmit()">
            <div style="padding: 0" class="uk-width-medium-1-1 uk-width-small-1-1" custom-scrollbar>
                <div class="uk-overflow-container">
                    <div class="uk-grid uk-grid-small">
                        <div class="grid grid-cols-2 w-full box-border mt-4 gap-2 ng-scope">
                            <div class="col-span-2 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төсөл, арга хэмжээний нэр</div>
                                <div class="font-semibold" style="padding: 0 10px">{{app.pipNm}}</div>
                            </div>
                            <div class="col-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн эхлэх огноо</div>
                                <div class="font-semibold">{{app.strDt}}</div>
                            </div>
                            <div class="ol-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн дуусах огноо</div>
                                <div class="font-semibold">{{app.endDt}}</div>
                            </div>
                            <div class="ol-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн нийт дүн</div>
                                <div class="font-semibold">{{app.amount | number:2}} сая₮</div>
                            </div>
                            <div class="ol-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн санхүүжих дүн</div>
                                <div class="font-semibold">{{app.payAmt | number:2}} сая₮</div>
                            </div>
                        </div>

                        <div class="uk-width-medium-1-2 uk-grid-margin">
                            <label for="totalAmount" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                <span class="uk-float-left">Аймаг / Нийслэл:</span>
                            </label>
                            <div class="k-edit-field" style="width: 100%">
                                <select  kendo-combo-box k-data-text-field="'cdNm'" required
                                         k-data-value-field="'id'" k-filter="'startswith'"
                                         k-data-source="amgDataSource" ng-model="location.amgId" id="amgId"
                                         k-on-change="asdChanged()"
                                         style="width: 100%;"></select>
                            </div>
                        </div>
                        <div class="uk-width-1-2 uk-grid-margin">
                            <label for="totalAmount" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                <span class="uk-float-left">Сум / Дүүрэг:</span>
                            </label>
                            <div class="k-edit-field" style="width: 100%">
                                <select  kendo-combo-box k-data-text-field="'cdNm'" required k-filter="'startswith'"
                                         k-data-value-field="'id'" k-cascade-from="'amgId'" k-cascade-from-field="'parentId'"
                                         k-data-source="sumDataSource" ng-model="location.sumId" id="locSumId"  k-on-change="sumSelect(location)"
                                         style="width: 100%;"></select>

                            </div>
                        </div>
                        <div class="uk-width-1-1  uk-grid-margin" ng-show="bags.length>0">
                            <label for="totalAmount" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                <span class="uk-float-left">Баг / Хороо:</span>
                            </label>
                            <div class="k-edit-field" style="width: 100%">
                                <div class="my-2 mr-1 inline-block" ng-repeat="eco in bags">
                                    <input type="checkbox" ng-value="eco.id" ng-model="bagObj[eco.id]" class="k-checkbox hidden" style="display: none !important" id="{{eco.id}}-{{$index}}" />
                                    <label class="w-6 bg-white text-[#6C757D] border-[#6C757D] border-[1px] border-solid rounded-2xl py-1 px-3 bg-white text-sm cursor-pointer capitalize" for="{{eco.id}}-{{$index}}"
                                    ><i class="material-icons mr-2 text-[#6C757D]">check_outlined</i>{{eco.cdNm}}</label
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="formFooter" style="margin: 0; padding: 12px">
                <div class="uk-grid">
                    <div class="uk-width-1-1 uk-text-right">
                        <button type="button" class="md-btn md-btn-mini uk-modal-close !text-sm cancel-button">БОЛИХ
                        </button>
                        <button type="button" ng-click="locationSubmit()"
                                class="md-btn md-btn-mini !text-sm gradient-button px-4">ХАДГАЛАХ
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="uk-modal" id="modal_other">
    <div class="uk-modal-dialog custom-modal" style="margin-bottom: 0; padding: 0;width:700px;">
        <div class="formHeader" style="display: block; margin: 0 -24px; padding: 24px">
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 uk-text-left">
                    <h3 class="customTitle" style="margin-bottom: 0; padding-top: 5px; padding-bottom: 5px">
                        <span>Нэмэлт мэдээлэл бүртгэх</span>
                        <button type="button" class="uk-modal-close uk-float-right uk-close"></button>
                    </h3>
                </div>
            </div>
        </div>
        <form class="k-form k-form-vertical" id="validator" custom-scrollbar
              style="margin-bottom: 0; overflow-x: hidden;" ng-submit="formSubmit()">
            <div style="padding: 0">
                <div class="uk-overflow-container" style="margin-bottom: 0">
                    <ul class="k-edit-form-container batch" style="display: inline-block; width: 100%">
                        <li>
                            <div class="k-edit-label"><label for="consumerId">Эрх шилжүүлсэн байгууллага</label></div>
                            <div class="k-edit-field">
                                <select kendo-combo-box required class="h-full !w-full"
                                        id="consumerId" ng-model="app.conId" k-data-source="consumerDataSource"
                                        ng-disabled="!erhStep"
                                        k-options="orgOption"></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label"><label for="secId">Салбар</label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        required
                                        id="secId"
                                        class="h-full !w-full"
                                        validationMessage="шаардлагатай"
                                        k-placeholder="'Сонгох'"
                                        name="branchId"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        ng-model="app.secId"
                                        k-auto-bind="true"
                                        k-data-source="sSectorDataSource"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label"><label for="subSecId">Дэд салбар </label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        required
                                        id="subSecId"
                                        class="h-full !w-full"
                                        validationMessage="шаардлагатай"
                                        k-placeholder="'Сонгох'"
                                        name="subSecId"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        ng-model="app.subSecId"
                                        k-cascade-from="'secId'"
                                        k-cascade-from-field="'parentId'"
                                        k-auto-bind="true"
                                        id="subSecId"
                                        k-data-source="sSubSectorDataSource"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label"><label for="catId">Хөрөнгө оруулалтын төрөл </label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        required
                                        id="catId"
                                        class="h-full !w-full"
                                        validationMessage="шаардлагатай"
                                        k-placeholder="'Сонгох'"
                                        name="objId"
                                        k-cascade-from="'subSecId'"
                                        k-cascade-from-field="'secId'"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        ng-model="app.objId"
                                        k-ng-model="app.object"
                                        ng-change="objChanged()"
                                        k-auto-bind="true"
                                        k-data-source="sInvTypeDataSource"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label"><label for="catId">Хэмжих нэгж </label></div>
                            <div class="k-edit-field">
                                <span class="k-input k-textbox" style="padding-left: 8px;background: #ddd;opacity: 0.6">{{app.object.measName}}</span>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label"><label for="catId">Хүчин чадал</label></div>
                            <div class="k-edit-field">
                                <input kendo-numeric-text-box k-min="0"  required k-ng-model="app.capacity"
                                       id="capacity"
                                       style="width: 100%"/>
                            </div>
                        </li>

                        <li>
                            <div class="k-edit-label"><label for="password">Онцлох эсэх </label></div>
                            <div class="k-edit-field">
                                <div class="custom-select w-full">
                                    <div class="item" style="width: 50%" ng-class="app.special == 1 ? 'active' : ''"
                                         ng-click="app.special = '1';">Тийм
                                    </div>
                                    <div class="item" style="width: 50%"
                                         ng-class="app.special  == 0 ? 'active' : ''"
                                         ng-click="app.special = '0';">Үгүй
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li ng-if="bagtsStep">
                            <div class="k-edit-label"><label for="password">Багц эсэх </label></div>
                            <div class="k-edit-field">
                                <div class="custom-select w-full">
                                    <div class="item" style="width: 50%" ng-class="app.batch == 1 ? 'active' : ''"
                                         ng-click="app.batch = '1';app.tender = '0';app.tenderNo=null">Тийм
                                    </div>
                                    <div class="item" style="width: 50%" ng-class="app.batch  == 0 ? 'active' : ''"
                                         ng-click="app.batch = '0';">Үгүй
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li ng-show="app.batch ==0">
                            <div class="k-edit-label"><label for="password">Тендертэй эсэх </label></div>
                            <div class="k-edit-field">
                                <div class="custom-select w-full">
                                    <div class="item" style="width: 50%" ng-class="app.tender == 1 ? 'active' : ''"
                                         ng-click="app.tender = '1';">Тийм
                                    </div>
                                    <div class="item" style="width: 50%" ng-class="app.tender  == 0 ? 'active' : ''"
                                         ng-click="app.tender = '0';">Үгүй
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li ng-show="app.batch ==0">
                            <div class="k-edit-label"><label for="password">Тендерийн дугаар </label></div>
                            <div class="k-edit-field">
                                <input type="text" class="k-input k-textbox"
                                       ng-disabled="app.tender==0 && app.batch==0"
                                       ng-required="app.tender==1 && app.batch==0" ng-model="app.tenderNo"
                                       id="password"
                                       style="width: 100%"/>
                            </div>
                        </li>
                        <li ng-show="app.batch == 1">
                            <div class="k-edit-label"><label for="password">Багц задалсан тушаал</label></div>
                            <div class="k-edit-field">
                                <input
                                        name="file"
                                        type="file"
                                        accept="image/*,.pdf"
                                        class="fileView"
                                        kendo-upload
                                        k-options="fileAttachmentOptions"
                                        k-success="onSelect"
                                        k-upload="onUpload"
                                />
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </form>
        <div class="formFooter" style="margin: 0; padding-top: 0 !important;">
            <div class="uk-grid">
                <div class="uk-width-1-1 uk-text-right">
                    <button type="button" class="md-btn md-btn-mini uk-modal-close !text-sm cancel-button">БОЛИХ
                    </button>
                    <button type="button" ng-click="formSubmit(1)"
                            class="md-btn md-btn-mini !text-sm gradient-button px-4">ХАДГАЛАХ
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="uk-modal" id="modal_contract">
    <div class="uk-modal-dialog custom-modal" style="margin-bottom: 0; padding: 0">
        <div class="formHeader" style="display: block; margin: 0 -24px; padding: 24px">
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 uk-text-left">
                    <h3 class="customTitle" style="margin-bottom: 0; padding-top: 5px; padding-bottom: 5px">
                        <span>Гэрээ бүртгэх</span>
                        <button type="button" class="uk-modal-close uk-float-right uk-close"></button>
                    </h3>
                </div>
            </div>
        </div>
        <form class="k-form k-form-vertical" style="margin: 0" id="contractForm" kendo-validator="validatorProject"
              ng-submit="contractSubmit()">
            <div style="padding: 0" custom-scrollbar>
                <div class="uk-overflow-container">
                    <div class="uk-grid uk-grid-small">
                        <div class="grid grid-cols-2 w-full box-border mt-4 gap-2 ng-scope">
                            <div class="col-span-2 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төсөл, арга хэмжээний нэр</div>
                                <div class="font-semibold" style="padding: 0 10px">{{app.pipNm}}</div>
                            </div>
                            <div class="col-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн эхлэх огноо</div>
                                <div class="font-semibold">{{app.strDt}}</div>
                            </div>
                            <div class="ol-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн дуусах огноо</div>
                                <div class="font-semibold">{{app.endDt}}</div>
                            </div>
                            <div class="ol-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн нийт дүн</div>
                                <div class="font-semibold">{{app.amount | number:2}} сая₮</div>
                            </div>
                            <div class="ol-span-1 flex flex-col items-center justify-center border-[1px] border-blue-100 border-solid py-2 rounded-md">
                                <div class="uppercase text-xs text-zinc-600">Төслийн санхүүжих дүн</div>
                                <div class="font-semibold">{{app.payAmt | number:2}} сая₮</div>
                            </div>
                        </div>
                        <div class="uk-width-medium-1-1 uk-grid-margin">
                            <div class="k-edit-label uk-text-left" style="margin-bottom: 0; width: 100%"><label
                                    class="uppercase text-xs text-zinc-600" for="contractName">Гэрээний нэр:</label>
                            </div>
                            <div class="k-edit-field" style="width: 100%">
                                <textarea kendo-text-area k-placeholder="'...'" required k-ng-model="fnd.contractName"
                                          id="contractName" style="width: 100%" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="uk-width-1-2 uk-grid-margin">
                            <label for="contractCode"
                                   class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Гэрээний
                                дугаар:</label>
                            <div class="flex bg-gray-50 rounded-t-md">
                                <div class="flex text-sm font-medium text-center text-gray-500 dark:text-gray-400">
                                    <span style="padding-top: 7px;" class="inline-block w-full px-3 text-gray-800 bg-gray-100 border border-gray-200">
                                        {{fnd.approved.utCode!=null?fnd.approved.utCode:'УТ'}}
                                    </span>
                                </div>
                                <div class="flex w-full justify-end">
                                    <input id="contractCode" kendo-text-box required validationMessage="Гэрээний дугаар"
                                           ng-model="fnd.contractCode" style="width: 100%"/>
                                </div>
                            </div>
                        </div>
                        <div ng-if="fnd.code=='01'" class="uk-width-1-2 uk-grid-margin">
                            <label for="supType" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">гүйцэтгэгчийн
                                төрөл:</label>
                            <select kendo-combo-box id="supType" required="" k-placeholder="'Сонгох'"
                                    ng-model="fnd.supType" style="width: 100%">
                                <option value="01">Аж ахуйн нэгж</option>
                                <option value="02">Иргэн</option>
                                <option value="03">Гадны байгууллага</option>
                            </select>
                        </div>
                        <div ng-if="(fnd.code=='01') && contractDateShow" class="uk-width-1-2 uk-grid-margin">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> Гэрээний эхлэх
                                огноо: </label>
                            <input
                                    validationMessage="шаардлагатай"
                                    k-ng-model="fromDateObject"
                                    k-on-change="fromDateChanged()"
                                    k-min="minDateApp"
                                    k-max="maxDateApp"
                                    kendo-date-picker
                                    k-format="'yyyy-MM-dd'"
                                    id="startDate"
                                    required
                                    ng-model="fnd.strDt"
                                    style="width: 100%"
                                    small
                            />
                        </div>
                        <div ng-if="(fnd.code=='01') && contractDateShow" class="uk-width-1-2 uk-grid-margin">
                            <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Гэрээ дуусах
                                огноо:</label>
                            <input
                                    validationMessage="шаардлагатай"
                                    id="endDate"
                                    kendo-date-picker
                                    k-format="'yyyy-MM-dd'"
                                    required
                                    k-max="maxDateApp"
                                    k-min="minDate"
                                    k-rebind="minDate"
                                    k-on-change="toDateChanged()"
                                    ng-model="fnd.endDt"
                                    style="width: 100%"
                            />
                        </div>
                        <div ng-if="fnd.code=='01'" class="uk-width-1-2 uk-grid-margin">
                            <label for="totalAmount" class="uk-form-label uppercase !text-xs font-normal uk-text-muted"><span
                                    class="uk-float-left">гэрээний нийт дүн:</span> </label>
                            <input
                                    kendo-numeric-text-box
                                    id="totalAmount"
                                    name="totalAmt"
                                    ng-required="true"
                                    validationMessage="гэрээний нийт дүн шаардлагатай"
                                    k-min="'0'"
                                    ng-model="fnd.totalAmt"
                                    style="width: 100%"
                            />
                        </div>
                        <div ng-If="fnd.code=='01'" class="uk-width-1-2 uk-grid-margin">
                            <label for="payAmt" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                <span class="uk-float-left">энэ онд санхүүжих дүн :</span>
                            </label>
                            <input kendo-numeric-text-box id="payAmt" name="payAmt" ng-required="true" k-min="'0'"
                                   validationMessage="санхүүжих дүн шаардлагатай" ng-model="fnd.payAmt"
                                   style="width: 100%"/>
                        </div>
                        <div class="uk-width-medium-1-2 uk-grid-margin">
                            <label for="totalAmount" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                <span class="uk-float-left">Гэрээний төрөл:</span>
                            </label>
                            <div class="k-edit-field" style="width: 100%">
                                <div class="custom-select w-full" id="contractType">
                                    <div class="item text-sm" style="width: 50%"
                                         ng-class="fnd.contractType == '01' ? 'active' : ''"
                                         ng-click="fnd.contractType = '01'">Энгийн
                                    </div>
                                    <div class="item text-sm" style="width: 50%"
                                         ng-class="fnd.contractType == '02' ? 'active' : ''"
                                         ng-click="fnd.contractType = '02'">Монгол тал
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="uk-width-1-2  uk-grid-margin">
                            <label for="totalAmount" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                <span class="uk-float-left">Урьдчилгаа төлбөр олгох эсэх:</span>
                            </label>
                            <div class="k-edit-field" style="width: 100%">
                                <div class="custom-select w-full">
                                    <div class="item text-sm" style="width: 50%"
                                         ng-class="fnd.downPay == '02' ? 'active' : ''"
                                         ng-click="fnd.downPay = '02'">Үгүй
                                    </div>
                                    <div class="item text-sm" style="width: 50%"
                                         ng-class="fnd.downPay == '01' ? 'active' : ''"
                                         ng-click="fnd.downPay = '01'">Тийм
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-If="fnd.code=='01' &&  fnd.downPay=='01'" class="uk-width-1-2 mt-6 uk-grid-margin">
                            <label for="downPayAmt" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                <span class="uk-float-left">Урьдчилгаа төлбөрийн дүн :</span>
                            </label>
                            <input kendo-numeric-text-box id="downPayAmt" name="downPayAmt" ng-required="true" k-min="'0'"
                                   validationMessage="санхүүжих дүн шаардлагатай" ng-model="fnd.downPayAmt"
                                   style="width: 100%"/>
                        </div>
                        <div ng-If="fnd.code=='01' &&  fnd.downPay=='01'" class="uk-width-1-2 mt-4 uk-grid-margin">
                            <label for="noteFiles" class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Урьдчилгаа төлбөрийн баталгаа</label>
                            <div class="k-form-field-wrap">
                                <input name="file" id="noteFiles" accept="image/*"
                                       type="file" k-options="fileOptions" k-localization="{ select: 'Файл сонгох' }"
                                       kendo-upload />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="formFooter" style="margin: 0; padding: 12px">
                <div class="uk-grid">
                    <div class="uk-width-1-1 uk-text-right">
                        <button type="button" class="md-btn md-btn-mini uk-modal-close !text-sm cancel-button">БОЛИХ
                        </button>
                        <button ng-show="fnd.code=='02' || fnd.batch=='0'" type="button" ng-click="contractSubmit()"
                                class="md-btn md-btn-mini !text-sm gradient-button px-4">ХАДГАЛАХ
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="uk-modal" id="modal_application">
    <div class="uk-modal-dialog custom-modal" style="margin-bottom: 0; padding: 0;width:700px;">
        <div class="formHeader" style="display: block; margin: 0 -24px; padding: 24px">
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 uk-text-left">
                    <h3 class="customTitle" style="margin-bottom: 0; padding-top: 5px; padding-bottom: 5px">
                        <span>Багц төсөл бүртгэх</span>
                        <button type="button" class="uk-modal-close uk-float-right uk-close"></button>
                    </h3>
                </div>
            </div>
        </div>
        <form class="k-form k-form-vertical" style="margin: 0" id="batchProject" kendo-validator="validatorSubProject"
              ng-submit="contractSubmit()">
            <div style="padding: 0" custom-scrollbar>
                <div class="uk-overflow-container" style="margin-bottom: 0">
                    <ul class="k-edit-form-container batch" style="display: inline-block; width: 100%">
                        <li>
                            <div class="k-edit-label">
                                <label class="uppercase text-xs text-zinc-600" for="pipNm">Өмнө жилээс татуулах</label>
                            </div>
                            <div class="k-edit-field" style="width: 100%">
                                <div class="custom-select w-full">
                                    <div class="item text-sm" style="width: 50%"
                                         ng-class="preTab == '02' ? 'active' : ''"
                                         ng-click="preTab = '02'">Үгүй
                                    </div>
                                    <div class="item text-sm" style="width: 50%"
                                         ng-class="preTab == '01' ? 'active' : ''"
                                         ng-click="preTab = '01'">Тийм
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li ng-show="preTab=='01'">
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">ТӨСӨЛ СОНГОХ</label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        validationMessage="шаардлагатай"
                                        k-placeholder="'Сонгох'"
                                        k-data-text-field="'pipNm'"
                                        k-data-value-field="'id'"
                                        k-filter="'startswith'"
                                        k-auto-bind="true"
                                        ng-model="pre.id"
                                        k-ng-model="pre.app"
                                        k-on-change="preChange()"
                                        k-data-source="preAppDataSource"
                                        style="width: 100%"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label
                                        class="uppercase text-xs text-zinc-600" for="pipNm">ТӨСӨЛ, АРГА ХЭМЖЭЭНИЙ
                                    НЭР</label>
                            </div>
                            <div class="k-edit-field">
                                <textarea kendo-text-area k-placeholder="'...'" required k-ng-model="sub.pipNm"
                                          id="pipNm" style="width: 100%" rows="3"></textarea>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">АЙМАГ
                                    / НИЙСЛЭЛ</label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        validationMessage="шаардлагатай"
                                        id="subAmgAppId"
                                        ng-required="!packEdit"
                                        k-placeholder="'Сонгох'"
                                        k-data-text-field="'cdNm'"
                                        k-data-value-field="'id'"
                                        k-filter="'startswith'"
                                        ng-model="sub.amgId"
                                        ng-disabled="user.amgId!=null"
                                        k-auto-bind="true"
                                        k-data-source="sAmgDataSource"
                                        style="width: 100%"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Сум
                                    / Дүүрэг</label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        validationMessage="шаардлагатай"
                                        id="sumId"
                                        ng-required="!packEdit"
                                        k-placeholder="'Сонгох'"
                                        k-data-text-field="'cdNm'"
                                        k-data-value-field="'id'"
                                        k-filter="'startswith'"
                                        k-cascade-from="'subAmgAppId'"
                                        k-cascade-from-field="'parentId'"
                                        ng-model="sub.sumId"
                                        k-auto-bind="true"
                                        k-data-source="sSoumDataSource"
                                        style="width: 100%"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">САЛБАР</label>
                            </div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        required
                                        id="batchSecId"
                                        validationMessage="шаардлагатай"
                                        k-placeholder="'Сонгох'"
                                        name="branchId"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        ng-model="sub.secId"
                                        k-auto-bind="true" style="width: 100%"
                                        k-data-source="sSectorDataSource"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">ДЭД
                                    САЛБАР</label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        required
                                        id="batchSubSecId"
                                        validationMessage="шаардлагатай"
                                        k-placeholder="'Сонгох'"
                                        name="subSecId"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        ng-model="sub.subSecId"
                                        k-cascade-from="'batchSecId'"
                                        k-cascade-from-field="'parentId'"
                                        k-auto-bind="true"
                                        id="batchSubSecId" style="width: 100%"
                                        k-data-source="sSubSectorDataSource"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">ХӨРӨНГӨ
                                    ОРУУЛАЛТЫН ТӨРӨЛ</label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-combo-box
                                        required
                                        id="batchCatId"
                                        validationMessage="шаардлагатай"
                                        k-placeholder="'Сонгох'"
                                        name="objId"
                                        k-cascade-from="'batchSubSecId'"
                                        k-cascade-from-field="'secId'"
                                        k-data-text-field="'name'"
                                        k-on-change="fromInvestmentCategoryId()"
                                        k-data-value-field="'id'"
                                        ng-model="sub.objId"
                                        ng-change="subObjChanged()"
                                        k-ng-model="sub.object"
                                        k-auto-bind="true" style="width: 100%"
                                        k-data-source="sInvTypeDataSource"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">ХҮЧИН ЧАДАЛ</label></div>
                            <div class="k-edit-field">
                                <div class="flex bg-gray-50 rounded-t-md">
                                    <div class="flex text-sm font-medium text-center text-gray-500 dark:text-gray-400">
                                    <span style="padding-top: 7px;" class="inline-block w-full px-3 text-gray-800 bg-gray-100 border border-gray-200">
                                        {{sub.object!=null?sub.object.measName:'-'}}
                                    </span>
                                    </div>
                                    <div class="flex w-full justify-end">
                                        <input id="subCapacity" kendo-numeric-text-box k-options="numericOptions" required validationMessage="ДУГААР" k-min="'0'"
                                               ng-model="sub.capacity" style="width: 100%"/>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">ЭРХ
                                    ШИЛЖҮҮЛСЭН БАЙГУУЛЛАГA</label>
                            </div>
                            <div class="k-edit-field">
                                <select
                                        kendo-drop-down-list
                                        validationMessage="шаардлагатай"
                                        id="conId"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'orgId'"
                                        k-filter="'startswith'"
                                        ng-model="sub.conId"
                                        k-auto-bind="true"
                                        k-data-source="consumerDataSource"
                                        style="width: 100%"
                                ></select>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">ДУГААР</label>
                            </div>
                            <div class="k-edit-field">
                                <div class="flex bg-gray-50 rounded-t-md">
                                    <div class="flex text-sm font-medium text-center text-gray-500 dark:text-gray-400">
                                    <span style="padding-top: 7px;" class="inline-block w-full px-3 text-gray-800 bg-gray-100 border border-gray-200">
                                        {{app.lawNo!=null?app.lawNo:'-'}}
                                    </span>
                                    </div>
                                    <div class="flex w-full justify-end">
                                        <input id="sublawNo" kendo-numeric-text-box k-options="numericOptions" required validationMessage="ДУГААР" k-min="'0'"
                                               ng-model="sub.lawNo" style="width: 100%"/>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">ТӨСӨВТ
                                    ӨРТӨГ /САЯ ₮/</label></div>
                            <div class="k-edit-field">
                                <input kendo-numeric-text-box k-min="0" ng-model="sub.amount" style="width: 100%"
                                       required/>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label">
                                <label for="contractCode"
                                       class="uk-form-label uppercase !text-xs font-normal uk-text-muted">САНХҮҮЖИХ
                                    ДҮН /САЯ ₮/</label></div>
                            <div class="k-edit-field">
                                <input kendo-numeric-text-box k-min="0" ng-model="sub.payAmt" style="width: 100%"
                                       required/>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="formFooter" style="margin: 0; padding-top: 0 !important;">
                <div class="uk-grid">
                    <div class="uk-width-1-1 uk-text-right">
                        <button type="button" class="md-btn md-btn-mini uk-modal-close !text-sm cancel-button">БОЛИХ
                        </button>
                        <button type="button" ng-click="saveSubProject()"
                                class="md-btn md-btn-mini !text-sm gradient-button px-4">ХАДГАЛАХ
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="uk-modal" id="modal_loader_main">
    <div class="uk-modal-dialog" style="background: none; box-shadow: none; text-align: center; width: 100%">
        <div id="main-loader-contract-list" style="height: 100px"></div>
    </div>
</div>
<script>
    var animation = bodymovin.loadAnimation({
        // animationData: { /* ... */ },
        container: document.getElementById("main-loader-contract-list"), // required
        path: "assets/img/loader.json", // required
        renderer: "svg", // required
        loop: true, // optional
        autoplay: true, // optional
        name: "Demo Animation", // optional
    });
</script>

<style>
    .k-upload-button{
        width: 100%;
    }
    .k-dropzone{
        padding: 0 !important;
        background: white;
    }
    .k-upload{
        border: none;
    }
    .k-upload-status{
        display: none;
    }
    .rightMinus {
        right: -1px !important;
    }

    .fileView {
        gap: 10px;
        justify-content: center;
        color: white !important;
        background-color: #686ef5;
    }
    .height500 {
        height: 500px !important;
    }

    .batch .k-edit-label {
        width: 35% !important;
    }

    .batch .k-edit-field {
        width: 62% !important;
    }

    body, #page_content_inner, #page_content_inner {
        background-color: #fff !important;
    }

    #page_content {
        background: #fff;
    }

    #page_content_inner, #page_content_inner {
        background-color: #fff !important;
    }
</style>