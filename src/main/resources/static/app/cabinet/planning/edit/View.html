<div id="page_content">
    <div id="page_content_inner" style="padding:24px 24px;">
        <div id="main_content">
            <div class="grid grid-cols-1 mb-16">
                <div class="uk-text-center  pb-4">
                    <span ng-bind="app.fullDesc"></span>
                </div>
                <div ng-repeat="grp in types | filter:{objType:'01'}:true" ng-init="$parentIndex = $index">
                    <div class="bg-sky-200 py-4">
                        <div class="grid grid-cols-1 gap-3">
                            <div class="px-4">
                                <label class="uk-form-label !text-md font-medium uk-text-muted" style="color: #312e81 !important;float:left;margin-top:8px;">
                                    {{grp.comCd}}.{{grp.objTypeNm}}
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white">
                        <div class="tblwrapper">
                            <table class="sub-table1 funding-table" style="border-spacing: 0">
                                <thead>
                                <tr>
                                    <th style="background-color: white;" rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Д/д</label></th>
                                    <th style="background-color: white;" rowspan="2" class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Арга хэмжээ</label></th>
                                    <th style="background-color: white;" rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Шалгуур үзүүлэлт</label></th>
                                    <th style="background-color: white;" rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Суурь түвшин</label></th>
                                    <!-- <th style="background-color: white;" colspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Хүрэх түвшин</label></th> -->
                                    <th style="background-color: white;" rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Эхлэх хугацаа</label></th>
                                    <th style="background-color: white;" rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Дуусах хугацаа</label></th>
                                    <th style="background-color: white;" rowspan="2" ng-if="editable" class="uk-text-center">
                                        <button data-uk-tooltip="{cls:'long-text text-center',pos:'bottom'}" title="Зорилт бүртгэх" ng-if="editable" type="button" style="width: 70px !important;float:right;" class="md-btn outlined-button mt-0 md-btn !text-xs rounded-full"
                                                ng-click="addAdditionalPurpose(grp,0)"> Нэмэх
                                        </button>
                                    </th>
                                </tr>
                                <tr>
                                    <th style="background-color: white;" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Эхний хагас</label></th>
                                    <th style="background-color: white;" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Сүүлийн хагас</label></th>
                                </tr>
                                </thead>
                                <colgroup>
                                    <col style="width: 50px"/>
                                    <col />
                                    <col style="width: 250px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col ng-if="editable" style="width: 80px"/>
                                </colgroup>
                                <tbody>
                                <tr class="bg-sky-100" ng-repeat-start="objective in childDetails | filter:{objType:grp.objType,parentId:'!null',userType:'01'}:true" ng-init="$parentIndex = $index;">
                                    <td class="border-left:none;border-top:none; uppercase !text-xs font-normal uk-text-muted" style="text-align:center;">
                                        <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted des-dugaar"></label>
                                    </td>
                                    <td colspan="{{editable?7:7}}" class="uk-text-left" >
                                        <div class="grid gap-2 grid-cols-1">
                                            <div><span class="font-medium">Зорилт {{$parentIndex+1}}.</span> </div>
                                            <div><label data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{objective.createdAt}}" style="display: inline-block;" class="uk-form-label font-normal uk-text-muted" >{{objective.title}}</label></div>
                                        </div>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;">
                                        <div class="flex justify-center gap-3">
                                            <button type="button" data-uk-tooltip="{cls:'long-text text-center',pos:'bottom'}" title="Арга хэмжээ бүртгэх"  style="width: 70px !important;float:right;" class="md-btn outlined-button mt-0 md-btn !text-xs rounded-full" ng-click="addDetail(objective,grp.objType,1,0)"> Нэмэх
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat-start="child in details | filter:{parentId:objective.id}:true"  ng-init="$mainIndex = $index">
                                    <td class=" border-left:none;border-top:none;" style="text-align:center;">
                                        <label class="des-dugaar uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                            {{$parentIndex+1+$index+1}}</label>
                                    </td>
                                    <td style="border-bottom:1px solid #eef1f4" class="uk-text-left">
                                        <div class="flex flex-row">
                                            <div class="grow">
                                                <label style="display: inline-block;margin-top:8px;" class="uk-form-label " data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{child.createdAt}}"  ng-click="loadRequest(child)" ng-class="child.reqCnt>0?'uk-text-danger font-normal cursor-pointer':'font-normal uk-text-muted'">
                                                    <span class="font-medium">Арга хэмжээ  {{$parentIndex+1}}.{{$index + 1}} </span> {{child.title}}</label>
                                            </div>
                                            <div class="flex-none w-10" ng-if="editable"><button style="display: inline-block;margin:5px 0 0 5px;" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="Дэд арга хэмжээ бүртгэх"  class="grid-btn" ng-click="addDetail(objective,grp.objType,0,child)"><div class="nimis-icon add"></div></button></div>
                                        </div>
                                    </td>
                                    <td colspan='{{editable?6:6}}' style="padding: 0;">
                                        <table class="sub-table1 funding-table" style="border-spacing: 0">
                                            <colgroup>
                                                <col />
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                            </colgroup>
                                            <tbody>
                                            <tr ng-repeat="childItem in criterias | filter:{detId:child.id}:true"  ng-init="$critIndex = $index">
                                                <td style="{{$first?'border-left:none;border-bottom:none;border-top:none':$last?'border-bottom:none;border-right:none;border-left:none;':'border-left:none'}}" class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.criteria}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.baseline}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.firstHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.secondHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.srtDt}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal text-center uk-text-muted" style="white-space: normal;"> {{childItem.endDt}}</label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;border-bottom:1px solid #eef1f4">
                                        <div  class="flex justify-center gap-3">
                                            <button class="grid-btn" ng-click="updateDetail(child)"><div class="nimis-icon edit"></div></button>
                                            <button class="grid-btn" ng-click="deleteDetail($index,child)"><div class="nimis-icon delete"></div></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat="childItem in details | filter:{parentId:child.id}:true"  ng-init="$subMainIndex = $index">
                                    <td class=" border-left:none;border-top:none;" style="text-align:center;">
                                        <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted des-dugaar">
                                            {{$parentIndex+1+$index + 1 +$index + 1}} </label>
                                    </td>
                                    <td style="border-bottom:1px solid #eef1f4" class="uk-text-left">
                                        <label class="uk-form-label" ng-click="loadRequest(childItem)" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{childItem.createdAt}}" ng-class="child.reqCnt>0?'uk-text-danger font-medium cursor-pointer':'font-normal uk-text-muted'"><span class="font-medium">Дэд арга хэмжээ-{{$parentIndex+1}}.{{$mainIndex + 1}}.{{$subMainIndex + 1}} </span> {{childItem.title}}</label>
                                    </td>
                                    <td colspan='{{editable?6:6}}' style="padding: 0;">
                                        <table class="sub-table1 funding-table" style="border-spacing: 0">
                                            <colgroup>
                                                <col />
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                            </colgroup>
                                            <tbody>
                                            <tr ng-repeat="childSubItem in criterias | filter:{detId:childItem.id}:true"  ng-init="$subIndex = $index">
                                                <td style="{{$first?'border-left:none;border-bottom:none;border-top:none':$last?'border-bottom:none;border-right:none;border-left:none;':'border-left:none'}}"  class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">   {{childSubItem.criteria}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.baseline}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.firstHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.secondHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.srtDt}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal text-center uk-text-muted" style="white-space: normal;"> {{childSubItem.endDt}}</label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;border-bottom:1px solid #eef1f4">
                                        <div  class="flex justify-center gap-3">
                                            <button class="grid-btn" ng-click="updateDetail(childItem)"><div class="nimis-icon edit"></div></button>
                                            <button class="grid-btn" ng-click="deleteDetail($index,childItem)"><div class="nimis-icon delete"></div></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat-end></tr>
                                <tr ng-repeat-end></tr>
                                </tbody>
                                <!--<tfoot class="bg-zinc-100">
                                <tr>
                                    <td colspan="{{editable?8:7}}" class="uk-text-bold uk-text-right">Нийт</td>
                                    <td style="width: 90px;" class="uk-text-center">
                                        <span class="uk-text-bold ">{{(details | filter:{objType:grp.objType,parentId:'!null'}:true).length}}</span>
                                    </td>
                                </tr>
                                </tfoot>-->
                            </table>
                        </div>
                    </div>
                    <div ng-repeat-end></div>
                </div>
                <div ng-repeat="grp in types | filter:{objType:'02'}:true" ng-init="$parentIndex = $index">
                    <div class="bg-sky-200 py-4">
                        <div class="grid grid-cols-1 gap-3">
                            <div class="px-4">
                                <label class="uk-form-label !text-md font-medium uk-text-muted" style="color: #312e81 !important;float:left;margin-top:8px;">
                                    {{grp.comCd}}.{{grp.objTypeNm}}
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white">
                        <div>
                            <table class="sub-table1 funding-table" style="border-spacing: 0;border-bottom: 1px solid #eef1f4;">
                                <thead>
                                <tr>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Д/д</label></th>
                                    <th rowspan="2" class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Арга хэмжээ</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Шалгуур үзүүлэлт</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Суурь түвшин</label></th>
                                    <th colspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Хүрэх түвшин</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Эхлэх хугацаа</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Дуусах хугацаа</label></th>
                                    <th rowspan="2" ng-if="editable" class="uk-text-center">
                                        <button data-uk-tooltip="{cls:'long-text text-center',pos:'bottom'}" title="Зорилт бүртгэх" ng-if="editable" type="button" style="width: 70px !important;float:right;" class="md-btn outlined-button mt-0 md-btn !text-xs rounded-full"
                                                ng-click="addPurpose(grp,0)"> Нэмэх
                                        </button>
                                    </th>
                                </tr>
                                <tr>
                                    <th class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Эхний хагас</label></th>
                                    <th class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Сүүлийн хагас</label></th>
                                </tr>
                                </thead>
                                <colgroup>
                                    <col style="width: 50px"/>
                                    <col />
                                    <col style="width: 250px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col ng-if="editable" style="width: 80px"/>
                                </colgroup>
                                <tbody>
                                <tr class="bg-sky-100" ng-repeat-start="objective in objectives2 | filter:{objType:grp.objType}:true" ng-init="$parentIndex = $index;">
                                    <td class="border-left:none;border-top:none; uppercase !text-xs font-normal uk-text-muted" style="text-align:center;">
                                        <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted des-dugaar2"></label>
                                    </td>
                                    <td colspan="{{editable?7:7}}" class="uk-text-left" >
                                        <div class="grid gap-2 grid-cols-1">
                                            <div><span class="font-medium">Зорилт {{$parentIndex+1}}.</span> <button ng-if="editable" style="display: inline;margin:5px;" class="grid-btn" ng-click="updatePurpose(objective)"><div class="nimis-icon edit"></div></button></div>
                                            <div><label data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{objective.createdAt}}" style="display: inline-block;" class="uk-form-label uppercase !text-xs font-normal uk-text-muted" >{{objective.title}}</label></div>
                                        </div>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;">
                                        <div class="flex justify-center gap-3">
                                            <button type="button" style="width: 70px !important;float:right;" class="md-btn outlined-button mt-0 md-btn !text-xs rounded-full" ng-click="addDetail(objective,grp.objType,1)"> Нэмэх
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat-start="child in details | filter:{objId:objective.id,parentId:null}:true"  ng-init="$mainIndex = $index">
                                    <td class=" border-left:none;border-top:none;" style="text-align:center;">
                                        <label class="des-dugaar2 uk-form-label uppercase !text-xs font-normal uk-text-muted">
                                            {{$parentIndex+1+$index+1}}</label>
                                    </td>
                                    <td style="border-bottom:1px solid #eef1f4" class="uk-text-left">
                                        <div class="flex flex-row">
                                            <div class="grow">
                                                <label style="display: inline-block;margin-top:8px;" class="uk-form-label " data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{child.createdAt}}"  ng-click="loadRequest(child)" ng-class="child.reqCnt>0?'uk-text-danger font-normal cursor-pointer':'font-normal uk-text-muted'">
                                                    <span class="font-medium">Арга хэмжээ  {{$parentIndex+1}}.{{$index + 1}} </span> {{child.title}}</label>
                                            </div>
                                            <div class="flex-none w-10" ng-if="editable"><button style="display: inline-block;margin:5px 0 0 5px;" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="Дэд арга хэмжээ бүртгэх"  class="grid-btn" ng-click="addDetail(objective,grp.objType,0,child)"><div class="nimis-icon add"></div></button></div>
                                        </div>
                                    </td>
                                    <td colspan='{{editable?6:6}}' style="padding: 0;">
                                        <table class="sub-table1 funding-table" style="border-spacing: 0">
                                            <colgroup>
                                                <col />
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                            </colgroup>
                                            <tbody>
                                            <tr ng-repeat="childItem in criterias | filter:{detId:child.id}:true"  ng-init="$critIndex = $index">
                                                <td style="{{$first?'border-left:none;border-bottom:none;border-top:none':$last?'border-bottom:none;border-right:none;border-left:none;':'border-left:none'}}" class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.criteria}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.baseline}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.firstHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.secondHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.srtDt}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal text-center uk-text-muted" style="white-space: normal;"> {{childItem.endDt}}</label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;border-bottom:1px solid #eef1f4">
                                        <div  class="flex justify-center gap-3">
                                            <button class="grid-btn" ng-click="updateDetail(child)"><div class="nimis-icon edit"></div></button>
                                            <button class="grid-btn" ng-click="deleteDetail($index,child)"><div class="nimis-icon delete"></div></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat="childItem in details | filter:{parentId:child.id}:true"  ng-init="$subMainIndex = $index">
                                    <td class=" border-left:none;border-top:none;" style="text-align:center;">
                                        <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted des-dugaar2">
                                            {{$parentIndex+1+$index + 1 +$index + 1}} </label>
                                    </td>
                                    <td style="border-bottom:1px solid #eef1f4" class="uk-text-left">
                                        <label class="uk-form-label" ng-click="loadRequest(childItem)" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{childItem.createdAt}}" ng-class="child.reqCnt>0?'uk-text-danger font-medium cursor-pointer':'font-normal uk-text-muted'"><span class="font-medium">Дэд арга хэмжээ-{{$parentIndex+1}}.{{$mainIndex + 1}}.{{$subMainIndex + 1}} </span> {{childItem.title}}</label>
                                    </td>
                                    <td colspan='{{editable?6:6}}' style="padding: 0;">
                                        <table class="sub-table1 funding-table" style="border-spacing: 0">
                                            <colgroup>
                                                <col />
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                            </colgroup>
                                            <tbody>
                                            <tr ng-repeat="childSubItem in criterias | filter:{detId:childItem.id}:true"  ng-init="$subIndex = $index">
                                                <td style="{{$first?'border-left:none;border-bottom:none;border-top:none':$last?'border-bottom:none;border-right:none;border-left:none;':'border-left:none'}}"  class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">   {{childSubItem.criteria}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.baseline}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.firstHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.secondHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.srtDt}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal text-center uk-text-muted" style="white-space: normal;"> {{childSubItem.endDt}}</label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;border-bottom:1px solid #eef1f4">
                                        <div  class="flex justify-center gap-3">
                                            <button class="grid-btn" ng-click="updateDetail(childItem)"><div class="nimis-icon edit"></div></button>
                                            <button class="grid-btn" ng-click="deleteDetail($index,childItem)"><div class="nimis-icon delete"></div></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat-end></tr>
                                <tr ng-repeat-end></tr>
                                </tbody>
                                <!--<tfoot class="bg-zinc-100">
                                <tr>
                                    <td colspan="{{editable?8:7}}" class="uk-text-bold uk-text-right">Нийт</td>
                                    <td style="width: 90px;" class="uk-text-center">
                                        <span class="uk-text-bold ">{{(details | filter:{objType:grp.objType,parentId:'!null'}:true).length}}</span>
                                    </td>
                                </tr>
                                </tfoot>-->
                            </table>
                        </div>
                    </div>
                    <div ng-repeat-end></div>
                </div>
                <div ng-if="(objectives | filter:{objType:'03'}:true).length>0" ng-repeat="grp in types | filter:{objType:'03'}:true" ng-init="$parentIndex = $index">
                    <div class="bg-sky-200 py-4">
                        <div class="grid grid-cols-1 gap-3">
                            <div class="px-4">
                                <label class="uk-form-label !text-md font-medium uk-text-muted" style="color: #312e81 !important;float:left;margin-top:8px;">
                                    {{grp.comCd}}.{{grp.objTypeNm}}
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white">
                        <div>
                            <table class="sub-table1 funding-table" style="border-spacing: 0;border-bottom: 1px solid #eef1f4;">
                                <thead>
                                <tr>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Д/д</label></th>
                                    <th rowspan="2" class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Арга хэмжээ</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Шалгуур үзүүлэлт</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Суурь түвшин</label></th>
                                    <th colspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Хүрэх түвшин</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Эхлэх хугацаа</label></th>
                                    <th rowspan="2" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Дуусах хугацаа</label></th>
                                    <th rowspan="2" ng-if="editable" class="uk-text-center">
                                        <!--  <button data-uk-tooltip="{cls:'long-text text-center',pos:'bottom'}" title="Зорилт бүртгэх" ng-if="editable" type="button" style="width: 70px !important;float:right;" class="md-btn outlined-button mt-0 md-btn !text-xs rounded-full"
                                                  ng-click="addPurpose(grp,0)"> Нэмэх
                                          </button>-->
                                    </th>
                                </tr>
                                <tr>
                                    <th class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Эхний хагас</label></th>
                                    <th class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">Сүүлийн хагас</label></th>
                                </tr>
                                </thead>
                                <colgroup>
                                    <col style="width: 50px"/>
                                    <col />
                                    <col style="width: 250px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col style="width: 80px"/>
                                    <col ng-if="editable" style="width: 80px"/>
                                </colgroup>
                                <tbody>
                                <tr class="bg-sky-100" ng-repeat-start="objective in objectives | filter:{objType:grp.objType}:true" ng-init="$parentIndex = $index;">
                                    <td class="border-left:none;border-top:none; uppercase !text-xs font-normal uk-text-muted" style="text-align:center;">
                                        <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted des-dugaar3"></label>
                                    </td>
                                    <td colspan="{{editable?7:7}}" class="uk-text-left" >
                                        <div class="grid gap-2 grid-cols-1">
                                            <div><span class="font-medium">Зорилт {{$parentIndex+1}}.</span> <button ng-if="editable" style="display: inline;margin:5px;" class="grid-btn" ng-click="updatePurpose(objective)"><div class="nimis-icon edit"></div></button></div>
                                            <div><label data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{objective.createdAt}}" style="display: inline-block;" class="uk-form-label uppercase !text-xs font-normal uk-text-muted" >{{objective.title}}</label></div>
                                        </div>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;">
                                        <div class="flex justify-center gap-3">
                                            <button type="button" style="width: 70px !important;float:right;" class="md-btn outlined-button mt-0 md-btn !text-xs rounded-full" ng-click="addDetail(objective,grp.objType,1)"> Нэмэх
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat-start="child in details | filter:{objId:objective.id,parentId:null}:true"  ng-init="$mainIndex = $index">
                                    <td class=" border-left:none;border-top:none;" style="text-align:center;">
                                        <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted des-dugaar3">
                                            {{$parentIndex+1+$index+1}}</label>
                                    </td>
                                    <td style="border-bottom:1px solid #eef1f4" class="uk-text-left">
                                        <div class="flex flex-row">
                                            <div class="grow">
                                                <label style="display: inline-block;margin-top:8px;" class="uk-form-label " data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{child.createdAt}}"  ng-click="loadRequest(child)" ng-class="child.reqCnt>0?'uk-text-danger font-normal cursor-pointer':'font-normal uk-text-muted'">
                                                    <span class="font-medium">Арга хэмжээ  {{$parentIndex+1}}.{{$index + 1}} </span> {{child.title}}</label>
                                            </div>
                                            <div class="flex-none w-10" ng-if="editable"><button style="display: inline-block;margin:5px 0 0 5px;" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="Дэд арга хэмжээ бүртгэх"  class="grid-btn" ng-click="addDetail(objective,grp.objType,0,child)"><div class="nimis-icon add"></div></button></div>
                                        </div>
                                        <!-- <label class="uk-form-label" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{child.createdAt}}"  ng-click="loadRequest(child)" ng-class="child.reqCnt>0?'uk-text-danger font-medium cursor-pointer':'font-normal uk-text-muted'"> <span class="font-medium">Арга хэмжээ  {{$parentIndex+1}}.{{$index + 1}} </span> {{child.title}}</label>-->
                                    </td>
                                    <td colspan='{{editable?6:6}}' style="padding: 0;">
                                        <table class="sub-table1 funding-table" style="border-spacing: 0">
                                            <colgroup>
                                                <col />
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                            </colgroup>
                                            <tbody>
                                            <tr ng-repeat="childItem in criterias | filter:{detId:child.id}:true"  ng-init="$critIndex = $index">
                                                <td style="{{$first?'border-left:none;border-bottom:none;border-top:none':$last?'border-bottom:none;border-right:none;border-left:none;':'border-left:none'}}" class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.criteria}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.baseline}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.firstHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.secondHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childItem.srtDt}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal text-center uk-text-muted" style="white-space: normal;"> {{childItem.endDt}}</label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;border-bottom:1px solid #eef1f4">
                                        <div  class="flex justify-center gap-3">
                                            <button class="grid-btn" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="Засах" ng-click="updateDetail(child)"><div class="nimis-icon edit"></div></button>
                                            <button class="grid-btn" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="Устгах" ng-click="deleteDetail($index,child)"><div class="nimis-icon delete"></div></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat="childItem in details | filter:{parentId:child.id}:true"  ng-init="$subMainIndex = $index">
                                    <td class=" border-left:none;border-top:none;" style="text-align:center;">
                                        <label class="uk-form-label uppercase !text-xs font-normal uk-text-muted des-dugaar3">
                                            {{$parentIndex+1+$index + 1 +$index + 1}} </label>
                                    </td>
                                    <td style="border-bottom:1px solid #eef1f4" class="uk-text-left">
                                        <label class="uk-form-label" ng-click="loadRequest(childItem)" data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="{{childItem.createdAt}}" ng-class="child.reqCnt>0?'uk-text-danger font-medium cursor-pointer':'font-normal uk-text-muted'"><span class="font-medium">Дэд арга хэмжээ-{{$parentIndex+1}}.{{$mainIndex + 1}}.{{$subMainIndex + 1}} </span> {{childItem.title}}</label>
                                    </td>
                                    <td colspan='{{editable?6:6}}' style="padding: 0;">
                                        <table class="sub-table1 funding-table" style="border-spacing: 0">
                                            <colgroup>
                                                <col />
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                                <col style="width: 80px"/>
                                            </colgroup>
                                            <tbody>
                                            <tr ng-repeat="childSubItem in criterias | filter:{detId:childItem.id}:true"  ng-init="$subIndex = $index">
                                                <td style="{{$first?'border-left:none;border-bottom:none;border-top:none':$last?'border-bottom:none;border-right:none;border-left:none;':'border-left:none'}}"  class="uk-text-left"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted">   {{childSubItem.criteria}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.baseline}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.firstHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.secondHalf}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal uk-text-muted"> {{childSubItem.srtDt}}</label></td>
                                                <td style="{{$first?'border-top:none;border-bottom:none;padding:0;border-right:none':$last?'border-bottom:none;border-right:none;padding:0':'border-right:none;padding:0'}}" class="uk-text-center"><label class="uk-form-label uppercase !text-xs font-normal text-center uk-text-muted" style="white-space: normal;"> {{childSubItem.endDt}}</label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td ng-if="editable" style="width: 80px;border-bottom:1px solid #eef1f4">
                                        <div  class="flex justify-center gap-3">
                                            <button data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="Засах" class="grid-btn" ng-click="updateDetail(childItem)"><div class="nimis-icon edit"></div></button>
                                            <button data-uk-tooltip="{cls:'long-text',pos:'bottom'}" title="Устгах" class="grid-btn" ng-click="deleteDetail($index,childItem)"><div class="nimis-icon delete"></div></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat-end></tr>
                                <tr ng-repeat-end></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div ng-repeat-end></div>
                </div>
            </div>
        </div>
    </div>
</div>
<footer id="footer" class="mt-6 box-border bg-white border-solid border-0 !border-t-[2px] border-zinc-200"
        style="padding: 0 12px !important;z-index: 100">
    <div class="grid grid-cols-3 gap-4">
        <div >

        </div>
        <div class="col-span-2 text-right"> <!--&& user.level.name=='Мэргэжилтэн-->
            <button ng-if="app.userStatusNm!='Баталсан'" ng-click="changeStatus(0)" style="padding: 0"
                    class="md-btn md-btn-warning px-4 rounded-md !text-sm">Буцаах
            </button>
            <button class="md-btn px-4 rounded-md !text-sm bg-[#10b981] text-white hover:bg-[#059669]"
                    ng-click="changeStatus(1)"
                    ng-if="app.userStatusNm=='Илгээсэн'"
            >
                Батлах
            </button>
            <button class="md-btn px-4 rounded-md !text-sm outlined-button" back-button>Буцах</button>
        </div>
    </div>
</footer>

<div class="uk-modal" id="modal_reject">
    <div class="uk-modal-dialog custom-modal" style="margin-bottom: 0; padding: 0;width:600px;">
        <div class="formHeader" style="display: block; margin: 0 -24px; padding: 24px">
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 uk-text-left">
                    <h3 class="customTitle" style="margin-bottom: 0">
                        Төлөвлөгөө цуцлах
                        <button type="button" class="uk-modal-close uk-float-right uk-close"></button>
                    </h3>
                </div>
            </div>
        </div>
        <form class="k-form k-form-vertical" style="margin: 0" id="rejectForm" kendo-validator="rejectForm"
              ng-submit="rejectSubmit()">
            <div style="padding: 0" custom-scrollbar>
                <div class="uk-overflow-container" style="margin-bottom: 0">
                    <div class="grid grid-cols-1 mt-4 gap-4">
                        <div>
                            <div class="error-panel" style="border-radius: 0 !important;">
                                <span class="font-semibold">Анхааруулга</span>
                                <p class="text-[#212121] font-light mb-0 mt-2"> Та төлөвлөгөөг цуцалснаар албан хаагчыг
                                    үнэлэх боломжгүй болохыг анхаарна уу!!!</p>
                            </div>
                        </div>
                        <div>
                            <label class="uppercase text-xs text-zinc-600">Үндэслэл</label>
                            <div style="display: block">
                                <div class="k-edit-field k-form-field-wrap" style="width:100% !important;">
                                  <textarea kendo-text-area k-placeholder="'...'" required
                                            k-ng-model="rejectItem.description"
                                            id="rejDesc" style="width: 100%" rows="5"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="formFooter" style="margin: 0; padding-top: 20px !important;">
                <div class="uk-grid">
                    <div class="uk-width-1-1 uk-text-right">
                        <button type="button" class="md-btn md-btn-mini uk-modal-close !text-sm cancel-button">БОЛИХ
                        </button>
                        <button type="button" ng-click="rejectSubmit()"
                                class="md-btn md-btn-mini !text-sm gradient-button px-4">ХАДГАЛАХ
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<style>
    .k-edit-label{
        width:30%;
    }
    .k-edit-field{
        width:68%;
    }
</style>

<style>
    table {
        /* min-width: max-content;
        border-collapse: separate; */
    }
    th {
        position: sticky;
        top: 0px;

    }

    .tblwrapper {
        max-height: 800px;
        overflow-y: scroll;

    }
</style>