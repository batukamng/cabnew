<div class="login_inner" id="login_inner">
    <div class="content">
        <div class="container">
            <!-- Logo -->
            <div style="margin: 10px auto">
                <img alt="logo" ng-src="assets/img/zgheg.jpg" class="uk-width-1-1"/>
            </div>
            <!-- <div class="big-title">ТӨСВИЙН ХӨРӨНГӨ ОРУУЛАЛТЫН УДИРДЛАГЫН <span class="text-indigo-900">ЦАХИМ СИСТЕМ</span></div>-->

            <!-- Title -->

            <!-- Sign in form -->
            <div id="login_card">
                <div id="login_form">
                    <form style="margin-top: 3rem; box-sizing: border-box" role="form" id="form_validation"
                          name="signInNgForm" ng-submit="login()" class="nimis-form">
                        <div class="uk-margin-medium-top uk-form-row" ng-show="error && !expire">
                            <div class="error-panel">{{message}}</div>
                        </div>
                        <div class="uk-form-row form-field parsley-row">
                            <label for="login_username">Нэвтрэх нэр</label>
                            <input
                                    type="text"
                                    id="login_username"
                                    autofocus
                                    required
                                    name="username"
                                    data-parsley-required-message="Нэвтрэх нэрээ оруулна уу."
                                    data-parsley-trigger="change"
                                    ng-model="credentials.username"
                            />
                        </div>
                        <div class="uk-form-row form-field parsley-row relative" style="margin-top: 15px">
                            <label for="login_password">Нууц үг</label>
                            <input
                                    ng-class="signInNgForm.password.$invalid && 'border-red-500 animate-[wiggle_1s_ease-in-out_infinite]'"
                                    ng-attr-type="{{ showPassword ? 'text' : 'password' }}"
                                    autofocus
                                    required
                                    id="login_password"
                                    data-parsley-required-message="Нууц үгээ оруулна уу."
                                    data-parsley-trigger="change"
                                    ng-model="credentials.password"
                            />
                            <span class="passwordToggleBtn" ng-click="showPassword=!showPassword"
                            ><i ng-if="showPassword" class="material-icons">visibility_outlined</i><i
                                    ng-if="!showPassword" class="material-icons">visibility_off_outlined</i></span
                            >
                        </div>
                        <button class="button gradient-button" type="submit">
                            <span ng-if="!isLoading">Нэвтрэх</span>
                            <span ng-if="isLoading" class="spinner"></span>
                        </button>
                        <!-- <div class="uk-width-1-1 link">
                            <a ng-click="loginHelp($event)">Тусламж</a>
                            <a href="#" id="password_reset_show" ng-click="passwordReset($event)">Нууц үг сэргээх</a>
                        </div> -->

                        <!-- Submit button -->
                    </form>
                </div>
                <div id="login_password_reset" style="display: none">
                    <div class="login-title">Нууц үг сэргээх</div>
                    <form id="reset_password" class="uk-form-stacked nimis-form" ng-submit="resetPassword($event)"
                          style="margin-top: 1rem">
                        <div class="uk-form-row parsley-row form-field" style="margin-top: 24px">
                            <label for="login_email_reset">Нэвтрэх нэр</label>
                            <input type="text" id="login_email_reset"
                                   data-parsley-required-message="Нэвтрэх нэрээ оруулна уу." required
                                   ng-model="res.username"/>
                        </div>
                        <div class="uk-width-1-1 link">
                            <a ng-click="backToLogin($event)">Буцах</a>
                        </div>
                        <button class="button bg-gradient-to-r from-indigo-900 to-[#C2976F]" type="submit"
                                ng-disabled="isLoading">
                            <span ng-show="!isLoading">Илгээх</span>
                            <span ng-show="isLoading" class="spinner"></span>
                        </button>
                    </form>
                </div>
                <div id="login_help" style="display: none">
                    <div class="login-title">Тусламж</div>
                    <div class="help-panel">
                        <p>Та дараах тохиолдлуудыг шалгана уу:</p>
                        <span> Компьюерийн гарны "Caps Lock" ажилласан эсэх, хэрэглэгчийн нэр, нууц үгээ зөв хэлээр /Монгол эсвэл Англи/ оруулсан эсэх </span>
                        <p>Хэрэв та дээрх үйлдлүүдийг шалгаад нэвтэрч чадахгүй бол нууц үгээ сэргээнэ үү.</p>
                    </div>
                    <div class="uk-width-1-1 link">
                        <a ng-click="backToLogin($event)">Буцах</a>
                        <a href="#" id="password_reset_show_2" ng-click="passwordReset($event)">Нууц үгээ мартсан
                            уу?</a>
                    </div>
                </div>
                <form id="form_sign_up" ng-submit="signUp()" class="uk-form-stacked nimis-form" style="display: none">
                    <div class="uk-form-row parsley-row">
                        <label for="register_username_reg">Нэвтрэх нэр</label>
                        <input
                                class="md-input"
                                name="asd"
                                type="text"
                                id="register_username_reg"
                                data-parsley-trigger="keyup"
                                data-parsley-minlength="3"
                                data-parsley-maxlength="50"
                                data-parsley-validation-threshold="2"
                                required
                                ng-model="register.username"
                                md-input
                        />
                    </div>
                    <div class="uk-form-row parsley-row">
                        <label for="register_password_reg">Нэвтрэх нууц үг</label>
                        <input
                                class="md-input"
                                name="asds"
                                type="password"
                                id="register_password_reg"
                                data-parsley-trigger="keyup"
                                data-parsley-minlength="3"
                                data-parsley-maxlength="50"
                                data-parsley-validation-threshold="2"
                                required
                                ng-model="register.password"
                                md-input
                        />
                    </div>
                    <div class="uk-form-row parsley-row">
                        <label for="register_password_repeat">Нууц үг дахин оруулна уу</label>
                        <input
                                class="md-input"
                                type="password"
                                id="register_password_repeat"
                                data-parsley-trigger="keyup"
                                data-parsley-minlength="3"
                                data-parsley-maxlength="50"
                                data-parsley-validation-threshold="2"
                                data-parsley-equalto="#register_password_reg"
                                required
                                md-input
                        />
                    </div>
                    <div class="uk-form-row parsley-row">
                        <label for="register_email">Цахим шуудангийн хаяг</label>
                        <input class="md-input" type="email" id="register_email" data-parsley-trigger="change" required
                               ng-model="register.email" md-input/>
                    </div>
                    <div class="uk-form-row" ng-show="success">
                        <div class="uk-alert uk-alert-info" data-uk-alert>
                            <a href="#" class="uk-alert-close uk-close"></a>
                            Бүртгэл амжилттай. Нэвтрэх нэр, нууц үгээ ашиглан нэвтэрнэ үү.
                        </div>
                    </div>
                    <div class="uk-form-row" ng-show="conflict">
                        <div class="uk-alert uk-alert-danger" data-uk-alert>
                            <a href="#" class="uk-alert-close uk-close"></a>
                            Та өмнө бүртгүүлсэн байна.
                        </div>
                    </div>
                    <div class="uk-margin-medium-top">
                        <button type="submit" style="background: #1b29d0; color: #fff"
                                class="md-btn md-btn-block md-btn-large">Бүртгэл үүсгэх
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <div class="autography">
            <span class="text-center">Зөвхөн дотоод хэрэгцээнд зориулав.</span>
            <span class="text-center">© 2024 он. Зохиогчийн эрх хамгаалагдсан. </span>
        </div>
    </div>
    <div class="w-0 md:w-[80%] h-screen">
        <div class="uk-slidenav-position w-full h-full" data-uk-slideshow="{animation: 'scroll', autoplay:true}">
            <ul class="uk-slideshow w-full h-full">
                <li ng-repeat="image in images" class="image-content"
                    style="background-position: center center;background-image: url({{image.image.uri}})"
                    ng-click="showGuide(image.url)"></li>
            </ul>
            <a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-previous"
               data-uk-slideshow-item="previous"></a>
            <a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-next" data-uk-slideshow-item="next"></a>
            <ul class="uk-dotnav uk-dotnav-contrast uk-position-bottom uk-flex-center">
                <li ng-repeat="image in images track by $index" data-uk-slideshow-item="$index"><a href=""></a></li>
            </ul>
        </div>
    </div>
</div>

<div id="modules" style="display: none">
    <div class="h-[100px] flex items-center justify-center text-white text-2xl uppercase header">төсвийн хөрөнгө
        оруулалтын удирдлагын цахим систем
    </div>
    <div class="grid grid-cols-2 lg:px-[20%] px-[10%] box-border">
        <div class="col-span-1 source h-full text-center py-[20%] pr-[10%] box-border budget">
            <p class="font-medium">Эх үүсвэр сонгоно уу</p>
            <div class="grid grid-cols-2 gap-4">
                <a class="item col-span-1" ng-repeat="bdg in budgetTypes" ng-class="budgetType == bdg.id && 'active'"
                   ng-click="setBudget(bdg)"><span>{{bdg.name}}</span></a>
            </div>
        </div>
        <div class="col-span-1 source h-full text-center py-[20%] p-[10%] box-border year">
            <p class="font-medium">Тайлант он сонгоно уу</p>
            <div class="grid grid-cols-2 gap-4">
                <a class="item col-span-1" ng-repeat="year in planYrs" ng-class="planYr == year ? 'active' : ''"
                   ng-click="setPlanYr(year)"><span>{{year}}</span></a>
            </div>
        </div>
    </div>
    <div>
        <button type="button" class="md-btn md-btn-success !rounded-full !h-auto !text-sm !px-5 !py-3 uppercase"
                ng-click="setBudgetType()">Үргэлжлүүлэх
        </button>
    </div>
</div>
<script>
    var animation = bodymovin.loadAnimation({
        // animationData: { /* ... */ },
        container: document.getElementById("login-animation"), // required
        path: "assets/img/animation.json", // required
        renderer: "svg", // required
        loop: true, // optional
        autoplay: true, // optional
        name: "Demo Animation", // optional
    });
</script>
<style>
    :root {
        --primary-red: #941b36;
        --primary-blue: #2563eb;
    }

    .md-card {
        box-shadow: none;
    }

    .login_inner {
        display: flex;
        align-items: start;
        min-width: 0;
        height: 100vh;
        background-color: white;
        justify-content: center;
        flex: 1 1 auto;
    }

    .login-title {
        font-weight: 800;
        font-size: 32px;
        color: #000;
        margin-top: 20px;
    }

    .big-title {
        font-weight: 700;
        font-size: 18px;
        text-align: center;
    }

    .image-content {
        position: relative;
        flex: 1 1 auto;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: right;
    }

    .content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: auto;
        height: 100%;
        position: relative;
        gap: 26px;
        overflow-y: auto;
        overflow-x: hidden;
        background: white;
    }

    .button {
        margin-top: 1.5rem;
        color: #ffffff;
        font-size: 15px;
        line-height: 1.75rem;
        font-weight: 600;
        width: 100%;
        height: 3rem;
        border: 0;
        border-radius: 10px;
        cursor: pointer;
        text-transform: uppercase;
    }

    .help-panel {
        padding: 12px;
        margin-top: 24px;
        border: 1px dashed rgb(248 113 113/ 1);
        background: rgb(255 251 236 / 12);
        color: rgb(180 83 9 / 1);
        border-radius: 0.75rem;
        margin-top: 1rem;
        width: 100%;
        box-sizing: border-box;
    }

    .button:hover {
        box-shadow: rgba(0, 0, 0, 0.25) 0px 25px 50px -12px;
    }

    .link {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
    }

    .link a {
        color: #92929a;
        font-weight: 500;
        font-size: 14px;
    }

    .link a:hover {
        text-decoration: underline;
    }

    .autography {
        display: grid;
        color: #82828a;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 400;
        text-align: center;
        padding: 0 2rem;
        margin-bottom: 20px;
        position: absolute;
        bottom: 0;
    }

    .container {
        width: 320px;
        min-height: 600px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        margin-top: -100px;
    }

    @media (min-width: 768px) {
        .image_content {
            display: flex;
        }

        .content {
            width: 40%;
        }
    }

    .spinner {
        display: block;
        border: 6px solid rgb(256, 256, 256, 0.5);
        border-top: 6px solid #fff;
        border-radius: 50%;
        width: 18px;
        height: 18px;
        margin: auto;
        animation: spin 2s linear infinite;
    }

    .passwordToggleBtn {
        position: absolute;
        right: 10px;
        top: 50%;
        cursor: pointer;
    }

    .passwordToggleBtn i {
        font-size: 20px;
    }

    #modules {
        height: 100vh;
        width: 100vw;
        box-sizing: border-box;
        text-align: center;
        background: white;
    }

    #modules .header {
        background: linear-gradient(270deg, #312e81 50%, #c2976f 100%);
    }

    #modules .year {
        border-left: 2px solid #e4e4e7;
    }

    #modules a.item {
        height: 100px;
        border: 1px solid #e4e4e7;
        border-radius: 7px;
        display: flex;
    }

    #modules a.item span {
        color: #312e81;
        font-weight: 400;
        font-size: 15px;
        line-height: 18px;
        margin: auto;
    }

    #modules a.item.active,
    #modules a.item:hover {
        background: #eff6ff;
        border: 1px solid #312e81;
    }

    #modules a.item.active span,
    #modules a.item:hover span {
        color: #312e81;
        font-weight: 700;
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @media (max-width: 1280px) {
        .image-content {
            background-size: contain;
        }
    }

    .uk-slidenav {
        line-height: 58px;
        display: inline-block;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        width: 50px;
        height: 50px;
        line-height: 47px;
        color: #fff;
        font-size: 39px;
        text-align: center;
        background: #ccc;
        border-radius: 999px;
    }

    .uk-slidenav:hover {
        background: #fff;
    }

    .uk-dotnav {
        margin-bottom: 30px;
    }

    .uk-slidenav-position .uk-slidenav-previous:before {
        margin-left: -4px;
        color: #212121;
    }

    .uk-slidenav-position .uk-slidenav-next:before {
        margin-right: -4px;
        color: #212121;
    }
</style>
