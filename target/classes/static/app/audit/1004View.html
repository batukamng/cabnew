<div id="page_content">
    <div id="page_content_inner">
        <div id="main_content">
            <div class="custom-select mr-4">
                <div class="item text-left px-4" ng-click="dirChange(1)"  ng-class="dirType == 1 ? 'active' : ''">
                    <p class="text-sm" style="margin-bottom: 0">Үндсэн</p>
                </div>
                <div class="item text-left px-4" ng-click="dirChange(2)"  ng-class="dirType == 2 ? 'active' : ''">
                    <p class="text-sm" style="margin-bottom: 0">Дэд</p>
                </div>
                <div class="item text-left px-4" ng-click="dirChange(3)"  ng-class="dirType == 3 ? 'active' : ''">
                    <p class="text-sm" style="margin-bottom: 0">Нарийвчилсан</p>
                </div>
            </div>
            <kendo-grid id="appData" class="uk-text-small mt-4" k-options="mainGrid" k-ng-delay="mainGrid" k-scope-field="grid" k-data-source="appDataSource"></kendo-grid>
        </div>
    </div>
</div>

<div class="uk-modal" id="modal_form">
    <div class="uk-modal-dialog custom-modal" style="margin-bottom: 0; padding: 0; width: 700px">
        <div class="formHeader" style="display: block; margin: 0 -24px; padding: 24px">
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 uk-text-left">
                    <h3 class="customTitle" style="margin-bottom: 0; padding-top: 5px; padding-bottom: 5px">
                        <span>Чиглэл бүртгэх</span>
                        <button type="button" class="uk-modal-close uk-float-right uk-close"></button>
                    </h3>
                </div>
            </div>
        </div>
        <form class="k-form k-form-vertical" id="validator" custom-scrollbar style="margin-bottom: 0; overflow-x: hidden;" ng-submit="formSubmit()">
            <div style="padding: 0">
                <div class="uk-overflow-container">
                    <ul class="k-edit-form-container" style="display: inline-block; width: 100%">
                        <li>
                            <div class="k-edit-label"><label>Ангилал</label></div>
                            <div class="k-edit-field flex" style="margin-top: 5px">
                                <div class="custom-select w-full">
                                    <div class="item" style="width: 33%" ng-class="dataItem.confType == 0 ? 'active' : ''"
                                         ng-click="dataItem.confType = '0';">Үндсэн
                                    </div>
                                    <div class="item" style="width: 32%" ng-class="dataItem.confType  == 1 ? 'active' : ''"
                                         ng-click="dataItem.confType = '1';">Дэд
                                    </div>
                                    <div class="item" style="width: 35%" ng-class="dataItem.confType  == 2 ? 'active' : ''"
                                         ng-click="dataItem.confType = '2';">Нарийвчилсан
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label"><label for="name">Чиглэлийн нэр</label></div>
                            <div class="k-edit-field">
                                <textarea id="name" required kendo-text-area k-placeholder="'...'" k-ng-model="dataItem.name" style="width: 100%;" rows="5"></textarea>
                            </div>
                        </li>
                        <li ng-if="dataItem.confType==1">
                            <div class="k-edit-label"><label>Үндсэн чиглэл сонгох</label></div>
                            <div class="k-edit-field">
                                <input
                                        kendo-drop-down-list
                                        k-auto-bind="true"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        k-filter="'startswith'"
                                        k-data-source="directionDataSource"
                                        ng-model="dataItem.parentId"
                                        ng-required="dataItem.confType==1"
                                        id="law"
                                        style="width: 100%"
                                />
                            </div>
                        </li>
                        <li ng-if="dataItem.confType==2">
                            <div class="k-edit-label"><label>Үндсэн чиглэл сонгох</label></div>
                            <div class="k-edit-field">
                                <input
                                        kendo-drop-down-list
                                        k-auto-bind="true"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        k-filter="'startswith'"
                                        ng-model="dataItem.rootId"
                                        k-data-source="directionDataSource"
                                        ng-required="dataItem.confType==2"
                                        id="dirId"
                                        style="width: 100%"
                                />
                            </div>
                        </li>
                        <li ng-if="dataItem.confType==2">
                            <div class="k-edit-label"><label>Дэд чиглэл</label></div>
                            <div class="k-edit-field">
                                <input
                                        kendo-drop-down-list
                                        k-auto-bind="true"
                                        k-data-text-field="'name'"
                                        k-data-value-field="'id'"
                                        k-filter="'startswith'"
                                        k-cascade-from="'dirId'"
                                        k-cascade-from-field="'parentId'"
                                        k-data-source="childDirectionDataSource"
                                        ng-model="dataItem.parentId"
                                        ng-required="dataItem.confType==2"
                                        style="width: 100%"
                                />
                            </div>
                        </li>
                        <!--<li ng-if="dataItem.confType==1 || dataItem.confType==2">
                            <div class="k-edit-label"><label>Байгууллагын төрөл</label></div>
                            <div class="k-edit-field">
                                <input
                                        kendo-drop-down-list
                                        k-auto-bind="true"
                                        k-data-text-field="'comCdNm'"
                                        k-data-value-field="'id'"
                                        k-data-source="orgTypeDataSource"
                                        ng-model="dataItem.orgTypeId"
                                        ng-required="dataItem.confType==1"
                                        style="width: 100%"
                                />
                            </div>
                        </li>
                        <li ng-if="dataItem.confType==1 || dataItem.confType==2">
                            <div class="k-edit-label"><label>Тайлангийн төрөл</label></div>
                            <div class="k-edit-field">
                                <input
                                        kendo-drop-down-list
                                        k-auto-bind="true"
                                        k-data-text-field="'comCdNm'"
                                        k-data-value-field="'id'"
                                        k-data-source="reportTypeDataSource"
                                        ng-model="dataItem.repTypeId"
                                        ng-required="dataItem.confType==1"
                                        style="width: 100%"
                                />
                            </div>
                        </li>-->
                        <li>
                            <div class="k-edit-label"><label>Төрөл</label></div>
                            <div class="k-edit-field" style="margin-top: 5px">
                                <div class="custom-select" style="width: 50%">
                                    <div class="item w-1/2" ng-class="{'active' : dataItem.dirType==1}" ng-click="dataItem.dirType=1">Тоон</div>
                                    <div class="item w-1/2" ng-class="{'active' : dataItem.dirType==0}" ng-click="dataItem.dirType=0">Чанар</div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="k-edit-label"><label>Батламж мэдэгдэл</label></div>
                            <div class="k-edit-field">
                                <select
                                        kendo-multi-select
                                        k-options="dropOptions"
                                        k-placeholder="'Сонгох'"
                                        k-auto-bind="true"
                                        k-data-text-field="'comCdNm'"
                                        k-data-value-field="'id'"
                                        k-filter="'startswith'"
                                        k-data-source="confirmationStatementDataSource"
                                        k-ng-model="dataItem.notices"
                                        ng-required="dataItem.main==0"
                                        id="confMethod"
                                        style="width: 100%"
                                ></select>
                            </div>
                        </li>

                        <li>
                            <div class="k-edit-label"><label>Ашиглах эсэх</label></div>
                            <div class="k-edit-field" style="margin-top: 5px">
                                <div class="custom-select" style="width: 50%">
                                    <div class="item w-1/2" ng-class="{'active' : dataItem.useYn==1}" ng-click="dataItem.useYn=1">Тийм</div>
                                    <div class="item w-1/2" ng-class="{'active' : dataItem.useYn==0}" ng-click="dataItem.useYn=0">Үгүй</div>
                                </div>
                                <!--<input class="switchery switchery-small" type="checkbox" id="useYn" ui-switch ng-model="dataItem.useYn" parse-int ng-true-value="1" ng-false-value="0" />
                                <label for="useYn" class="inline-label" ng-bind="dataItem.useYn?'Идэвхтэй':'Идэвхгүй'">Label</label>-->
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </form>
        <div class="formFooter" style="margin: 0; padding: 12px">
            <div class="uk-grid">
                <div class="uk-width-1-1 uk-text-right">
                    <button type="button" class="md-btn md-btn-mini uk-modal-close !text-sm cancel-button">БОЛИХ</button>
                    <button type="button" ng-click="formSubmit()" class="md-btn md-btn-mini !text-sm gradient-button px-4">ХАДГАЛАХ</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="uk-modal" id="modal_loader">
    <div class="uk-modal-dialog" style="background: none;box-shadow: none;text-align: center;width: 100%;">
        <div id="main-loader-approved-1" style="height: 100px;"></div>
    </div>
</div>

<script>
    var animation = bodymovin.loadAnimation({
        // animationData: { /* ... */ },
        container: document.getElementById('main-loader-approved-1'), // required
        path: 'assets/img/loader.json', // required
        renderer: 'svg', // required
        loop: true, // optional
        autoplay: true, // optional
        name: "Demo Animation", // optional
    });
</script>

<style>
    .k-grid .checkbox-align > .k-cell-inner > .k-link{
        justify-content:center;
    }
    .k-checkbox:checked + label {
        background-color: #312e81 !important;
        border-color: #312e81 !important;
        color: #fff !important;
    }

    .k-checkbox:checked + label i {
        color: #fff !important;
    }

    .k-edit-field {
        overflow: hidden;
    }

    .custom-icon {
        height: 25px;
        width: 25px;
        cursor: pointer;
        background-color: #2563eb;
    }

    .custom-icon:hover,
    .custom-icon.active {
        background-color: #f3c30e !important;
    }
</style>
